Metadata-Version: 2.4
Name: isage-kernel
Version: 0.1.5
Summary: SAGE Kernel Module - Streaming-Augmented Generative Execution
Author-email: IntelliStream Team <intellistream@outlook.com>
License-Expression: MIT
Project-URL: Homepage, https://github.com/intellistream/SAGE
Project-URL: Repository, https://github.com/intellistream/SAGE.git
Project-URL: Documentation, https://intellistream.github.io/SAGE-Pub/
Project-URL: Issues, https://github.com/intellistream/SAGE/issues
Keywords: data,reasoning,kernel,dataflow,llm,ml,framework,rag,intellistream,cli,ai,sage
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Science/Research
Classifier: Operating System :: OS Independent
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: System :: Distributed Computing
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: isage-common>=0.1.0
Requires-Dist: python-dotenv==1.1.1
Requires-Dist: python_multipart==0.0.20
Requires-Dist: ray==2.48.0
Requires-Dist: grpcio>=1.74.0
Requires-Dist: protobuf>=6.32.0
Requires-Dist: msgpack>=1.1.1
Requires-Dist: torch==2.7.1
Requires-Dist: torchvision==0.22.1
Requires-Dist: httpx==0.28.1
Requires-Dist: socksio==1.0.0
Requires-Dist: numpy<2.3.0,>=2.0.0
Requires-Dist: Cython==3.1.2
Requires-Dist: pybind11==3.0.0
Requires-Dist: aioboto3==14.1.0
Requires-Dist: fastapi>=0.115.0
Requires-Dist: uvicorn>=0.34.0
Requires-Dist: h11>=0.16.0
Requires-Dist: requests>=2.32.0
Requires-Dist: aiohappyeyeballs>=2.6.0
Requires-Dist: aiosignal>=1.4.0
Requires-Dist: pydantic>=2.10.0
Requires-Dist: Jinja2==3.1.6
Requires-Dist: shellingham>=1.5.0
Requires-Dist: tabulate>=0.9.0
Requires-Dist: typer>=0.15.0
Requires-Dist: rich>=13.0.0
Requires-Dist: click>=8.0.0
Requires-Dist: questionary>=1.10.0
Requires-Dist: prompt_toolkit>=3.0.50
Requires-Dist: filelock>=3.16.1
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-benchmark>=4.0.0; extra == "dev"
Requires-Dist: pytest-mock>=3.10.0; extra == "dev"
Requires-Dist: pytest-timeout>=2.0.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Provides-Extra: web
Requires-Dist: fastapi>=0.100.0; extra == "web"
Requires-Dist: uvicorn>=0.23.0; extra == "web"
Requires-Dist: websockets>=11.0; extra == "web"
Provides-Extra: docs
Requires-Dist: sphinx>=7.0.0; extra == "docs"
Requires-Dist: sphinx-rtd-theme>=1.3.0; extra == "docs"
Requires-Dist: myst-parser>=2.0.0; extra == "docs"
Requires-Dist: mkdocs>=1.6.0; extra == "docs"
Requires-Dist: mkdocs-material>=9.6.0; extra == "docs"
Requires-Dist: markdown>=3.3.6; extra == "docs"
Requires-Dist: markupsafe>=2.0.1; extra == "docs"
Requires-Dist: packaging>=20.5; extra == "docs"
Requires-Dist: pymdown-extensions>=10.2.0; extra == "docs"

# SAGE Kernel

> ğŸš€ SAGE æ¡†æ¶çš„æ ¸å¿ƒå†…æ ¸åŒ… - æ•´åˆäº†æ ¸å¿ƒæ¡†æ¶å’Œå‘½ä»¤è¡Œå·¥å…·

## ğŸ“¦ åŒ…å«å†…å®¹

**SAGE Kernel** æ˜¯ SAGE æ¡†æ¶çš„æ ¸å¿ƒåŒ…ï¼Œæ•´åˆäº†åŸæ¥çš„ `sage-kernel` å’Œ `sage-cli` ä¸¤ä¸ªåŒ…çš„åŠŸèƒ½ï¼š

### ğŸ—ï¸ æ ¸å¿ƒç»„ä»¶ (sage.core)
- **æ•°æ®æµå¤„ç†æ¡†æ¶**: é«˜æ€§èƒ½çš„ dataflow-native å¤„ç†å¼•æ“
- **å‡½æ•°ç®¡ç†**: Function registry å’Œ operator ç®¡ç†
- **é…ç½®ç³»ç»Ÿ**: ç»Ÿä¸€çš„é…ç½®ç®¡ç†å’ŒéªŒè¯

### âš™ï¸ ä»»åŠ¡ç®¡ç† (sage.kernels.jobmanager)  
- **ä»»åŠ¡è°ƒåº¦**: åˆ†å¸ƒå¼ä»»åŠ¡æ‰§è¡Œå’Œè°ƒåº¦
- **æ‰§è¡Œå›¾**: DAG æ‰§è¡Œå›¾æ„å»ºå’Œä¼˜åŒ–
- **å®¢æˆ·ç«¯æ¥å£**: JobManager å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯

### ğŸ”§ è¿è¡Œæ—¶ç³»ç»Ÿ (sage.kernels.runtime)
- **æœåŠ¡å·¥å‚**: ä»»åŠ¡å’ŒæœåŠ¡çš„åŠ¨æ€åˆ›å»º
- **é€šä¿¡é˜Ÿåˆ—**: é«˜æ€§èƒ½çš„è¿›ç¨‹é—´é€šä¿¡
- **æœåŠ¡ç®¡ç†**: å¾®æœåŠ¡æ¶æ„çš„æœåŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†

### ğŸ’» å‘½ä»¤è¡Œå·¥å…· (sage.cli)
- **é›†ç¾¤ç®¡ç†**: åˆ†å¸ƒå¼é›†ç¾¤çš„éƒ¨ç½²å’Œç®¡ç†
- **ä»»åŠ¡æäº¤**: å‘½ä»¤è¡Œä»»åŠ¡æäº¤å’Œç›‘æ§
- **é…ç½®ç®¡ç†**: äº¤äº’å¼é…ç½®è®¾ç½®å’ŒéªŒè¯
- **æ‰©å±•ç®¡ç†**: æ’ä»¶å’Œæ‰©å±•çš„å®‰è£…ç®¡ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# ä»æºç å®‰è£…
pip install -e packages/sage-kernel

# æˆ–è€…ä» PyPI å®‰è£…ï¼ˆå‘å¸ƒåï¼‰
pip install intellistream-sage-kernel
```

### ä½¿ç”¨æ ¸å¿ƒAPI

```python
from sage.core import Function, Config
from sage.kernels.jobmanager import JobManager
from sage.kernels.runtime import ServiceTaskFactory

# åˆ›å»ºå¹¶ä½¿ç”¨å‡½æ•°
@Function
def my_processor(data):
    return data * 2

# ä½¿ç”¨ JobManager
job_manager = JobManager()
job = job_manager.submit_job(my_processor, data=[1, 2, 3])
```

### ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·

```bash
# å¯åŠ¨ SAGE é›†ç¾¤
sage cluster start

# æäº¤ä»»åŠ¡
sage job submit my_job.py

# ç®¡ç†é…ç½®
sage config set utils.provider openai
sage config show

# æŸ¥çœ‹å¸®åŠ©
sage --help
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
sage-kernel/
â”œâ”€â”€ src/sage/
â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒæ¡†æ¶
â”‚   â”œâ”€â”€ jobmanager/     # ä»»åŠ¡ç®¡ç†
â”‚   â”œâ”€â”€ runtime/        # è¿è¡Œæ—¶ç³»ç»Ÿ
â”‚   â””â”€â”€ cli/            # å‘½ä»¤è¡Œå·¥å…·
â”œâ”€â”€ tests/              # æ ‡å‡†åŒ–æµ‹è¯•ç»“æ„
â”‚   â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ jobmanager/
â”‚   â”œâ”€â”€ runtime/
â”‚   â””â”€â”€ cli/
â””â”€â”€ pyproject.toml      # ç»Ÿä¸€é…ç½®
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
pytest tests/core/
pytest tests/cli/

# è¿è¡Œè¦†ç›–ç‡æµ‹è¯•
pytest --cov=sage --cov-report=html
```

## ğŸ”§ å¼€å‘ç¯å¢ƒ

```bash
# å®‰è£…å¼€å‘ä¾èµ–
pip install -e "packages/sage-kernel[dev]"

# å®‰è£…å¢å¼ºCLIåŠŸèƒ½
pip install -e "packages/sage-kernel[enhanced]"

# ä»£ç æ ¼å¼åŒ–
black src/ tests/
ruff check src/ tests/

# ç±»å‹æ£€æŸ¥
mypy src/sage
```

## ğŸ“š ä¾èµ–å…³ç³»

### å†…éƒ¨ä¾èµ–
- `sage-utils`: åŸºç¡€å·¥å…·åŒ…

### å¤–éƒ¨æ ¸å¿ƒä¾èµ–
- **ML/AI**: torch, transformers, sentence-transformers, faiss-cpu
- **Web/API**: fastapi, uvicorn, aiohttp
- **æ•°æ®å¤„ç†**: numpy, pandas, scipy, scikit-learn
- **CLI**: typer, rich, click, questionary
- **é…ç½®**: pydantic, PyYAML, python-dotenv

## ğŸ¯ è®¾è®¡ç†å¿µ

### å•ä¸€å†…æ ¸åŸåˆ™
å°†æ ¸å¿ƒæ¡†æ¶å’Œ CLI å·¥å…·åˆå¹¶åˆ°ä¸€ä¸ªåŒ…ä¸­ï¼Œéµå¾ªä»¥ä¸‹åŸåˆ™ï¼š

1. **ç»Ÿä¸€å…¥å£**: æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½é€šè¿‡ä¸€ä¸ªåŒ…æä¾›
2. **é€»è¾‘åˆ†ç¦»**: ä¸åŒç»„ä»¶ä¿æŒæ¸…æ™°çš„æ¨¡å—è¾¹ç•Œ  
3. **ä¾èµ–ä¼˜åŒ–**: é¿å…å¾ªç¯ä¾èµ–ï¼Œæ¸…æ™°çš„ä¾èµ–å±‚æ¬¡
4. **æµ‹è¯•æ ‡å‡†åŒ–**: æ‰€æœ‰æµ‹è¯•æ–‡ä»¶ä½äºæ ‡å‡† `tests/` ç›®å½•

### CLI é›†æˆç­–ç•¥
- CLI åŠŸèƒ½å®Œå…¨é›†æˆåˆ°å†…æ ¸åŒ…ä¸­
- é€šè¿‡å…¥å£ç‚¹ `sage` å’Œ `sage-kernel` æä¾›å‘½ä»¤è¡Œè®¿é—®
- CLI æ¨¡å—ä¸æ±¡æŸ“æ ¸å¿ƒ API çš„å¯¼å…¥

## ğŸ”„ ä»æ—§åŒ…è¿ç§»

å¦‚æœä½ ä¹‹å‰ä½¿ç”¨ `sage-kernel` æˆ– `sage-cli`ï¼š

```python
# æ—§ä»£ç 
from sage_core import Function
from sage_cli.main import app

# æ–°ä»£ç   
from sage.core import Function
# CLI é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨: sage command
```

## ğŸ“‹ TODO

- [ ] å®Œå–„æ¨¡å—é—´çš„å¯¼å…¥ä¼˜åŒ–
- [ ] æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] å®Œå–„CLIå‘½ä»¤çš„é›†æˆæµ‹è¯•
- [ ] ä¼˜åŒ–ä¾èµ–ç‰ˆæœ¬å†²çªé—®é¢˜
- [ ] æ·»åŠ æ›´å¤šç¤ºä¾‹ä»£ç 

## ğŸ¤ è´¡çŒ®

è¯·æŸ¥çœ‹é¡¹ç›®æ ¹ç›®å½•çš„è´¡çŒ®æŒ‡å—ã€‚å¯¹äº kernel ç›¸å…³çš„å¼€å‘ï¼š

1. ç¡®ä¿æµ‹è¯•ä½äº `tests/` ç›®å½•
2. ä¿æŒæ¨¡å—é—´çš„æ¸…æ™°è¾¹ç•Œ
3. CLI åŠŸèƒ½é€šè¿‡å…¥å£ç‚¹è€Œéç›´æ¥å¯¼å…¥ä½¿ç”¨
4. éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼å’Œæ¶æ„æ¨¡å¼

---

ğŸ”— **ç›¸å…³åŒ…**: [sage-utils](../sage-utils/) | [sage-extensions](../sage-extensions/) | [sage-lib](../sage-lib/)
