"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7245],{17245:function(e,t,n){n.d(t,{HK:function(){return l},VY:function(){return i.V},pI:function(){return c},h0:function(){return r.h},Rx:function(){return f},rK:function(){return y}});var r=n(36866),i=n(84306),o=n(812);let l=()=>{let{errorAlert:e}=(0,i.V)();return{handleError:t=>{let n="An unexpected error occurred. Please try again.";(0,o.Ot)(t)?n=t.data.detail:(0,o.tB)(t)&&(n=t.data.detail[0].msg),e(n)}}};var s=n(27378),u=n(20682),a=n(41337),d=n(85054);let c=e=>{let{data:t}=(0,u.$I)({}),n=(0,s.useMemo)(()=>(null==t?void 0:t.items)||[],[t]);return(0,s.useMemo)(()=>{var t;if(!e)return(0,a.Br)("");if(e.connection_type===d.Rj.SAAS&&(null===(t=e.saas_config)||void 0===t?void 0:t.type)){let t=n.find(t=>{var n;return t.identifier===(null===(n=e.saas_config)||void 0===n?void 0:n.type)});if(t)return(0,a.PT)(t)}return(0,a.El)(e)},[e,n])};var v=n(40431);let p=()=>({search:v.Oi.withDefault("")}),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{defaultSearchQuery:t,onSearchChange:n}=e,r=(0,s.useMemo)(()=>p(),[]),[i,o]=(0,v.XI)(r,{history:"push"}),l=(0,s.useMemo)(()=>({searchQuery:i.search||t||void 0}),[i,t]),u=(0,s.useCallback)(e=>{o({search:e||null})},[o]),a=(0,s.useCallback)(()=>{o({search:null})},[o]);return(0,s.useEffect)(()=>{n&&n(l)},[l,n]),{...l,updateSearch:u,resetSearch:a,searchProps:{value:l.searchQuery||"",onChange:u,onClear:()=>u("")}}},h=e=>({sortKey:e?(0,v.jx)([...e]):v.Oi.withDefault(""),sortOrder:(0,v.km)(["ascend","descend"])}),y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{defaultSortKey:t,defaultSortOrder:n,onSortingChange:r,validColumns:i}=e,o=(0,s.useMemo)(()=>h(i),[i]),[l,u]=(0,v.XI)(o,{history:"push"}),a=(0,s.useMemo)(()=>{var e;return{sortKey:l.sortKey||t,sortOrder:null!==(e=l.sortOrder)&&void 0!==e?e:n}},[l,t,n]),d=(0,s.useCallback)((e,t)=>{u({sortKey:e?String(e):null,sortOrder:null!=t?t:null})},[u]),c=(0,s.useCallback)(()=>{u({sortKey:null,sortOrder:null})},[u]);return(0,s.useEffect)(()=>{r&&r(a)},[a,r]),{...a,updateSorting:d,resetSorting:c,sortingProps:{sortDirections:["ascend","descend"],defaultSortOrder:a.sortOrder,sortedInfo:a.sortKey?{field:a.sortKey,order:a.sortOrder}:void 0}}}},84306:function(e,t,n){n.d(t,{V:function(){return o}});var r=n(24246),i=n(20595);let o=()=>{let e=(0,i.pmc)();return{errorAlert:(t,n,o)=>{let l={...o,position:(null==o?void 0:o.position)||"top",render:e=>{let{onClose:o}=e;return(0,r.jsxs)(i.bZj,{alignItems:"normal",status:"error","data-testid":"error-alert",children:[(0,r.jsx)(i.zMQ,{}),(0,r.jsxs)(i.xuv,{children:[n&&(0,r.jsx)(i.CdC,{children:n}),(0,r.jsx)(i.XaZ,{children:t})]}),(0,r.jsx)(i.PZ7,{onClick:o,position:"relative",right:0,size:"sm",top:-1})]})}};(null==o?void 0:o.id)&&e.isActive(o.id)?e.update(o.id,l):e(l)},successAlert:(t,n,o)=>{let l={...o,position:(null==o?void 0:o.position)||"top",render:e=>{let{onClose:o}=e;return(0,r.jsxs)(i.bZj,{alignItems:"normal",status:"success",variant:"subtle","data-testid":"success-alert",children:[(0,r.jsx)(i.zMQ,{}),(0,r.jsxs)(i.xuv,{children:[n&&(0,r.jsx)(i.CdC,{children:n}),(0,r.jsx)(i.XaZ,{children:t})]}),(0,r.jsx)(i.PZ7,{onClick:o,position:"relative",right:0,size:"sm",top:-1})]})}};(null==o?void 0:o.id)&&e.isActive(o.id)?e.update(o.id,l):e(l)}}}},36866:function(e,t,n){n.d(t,{h:function(){return a}});var r=n(40431),i=n(27378),o=n(55484);let l=(0,r.jo)({parse(e){let t=parseInt(e,10);try{return o.Rx().integer().positive().validateSync(t),t}catch(e){return null}},serialize:e=>e.toString()});var s=n(32735);let u=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.pageQueryKey||"page",o=n.sizeQueryKey||"size";return{[i]:l.withDefault(s.Ej),[o]:n.pageSizeOptions?(0,r.bJ)(n.pageSizeOptions).withDefault(null!==(e=n.pageSize)&&void 0!==e?e:s.L8):l.withDefault(null!==(t=n.pageSize)&&void 0!==t?t:s.L8)}},a=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{defaultPageSize:o=s.L8,pageSizeOptions:l,showSizeChanger:a=!0,pageQueryKey:d="page",sizeQueryKey:c="size"}=n,v=null!=l?l:s.VZ,p=(0,i.useMemo)(()=>u({pageSize:o,pageSizeOptions:l,pageQueryKey:d,sizeQueryKey:c}),[o,l,d,c]),[f,h]=(0,r.XI)(p,{history:"push"}),y={pageIndex:null!==(e=f[d])&&void 0!==e?e:s.Ej,pageSize:null!==(t=f[c])&&void 0!==t?t:o};return{...y,updatePageIndex:e=>{h({[d]:e})},updatePageSize:e=>{h({[d]:e!==y.pageSize?s.Ej:y.pageIndex,[c]:e})},resetPagination:()=>{h({[d]:s.Ej,[c]:o})},nextPage:()=>{h(e=>({[d]:e[d]+1,[c]:e[c]}))},previousPage:()=>{h(e=>({[d]:e[d]-1,[c]:e[c]}))},pageSizeOptions:v,showSizeChanger:a}}},41337:function(e,t,n){n.d(t,{AZ:function(){return p},Br:function(){return h},El:function(){return v},PT:function(){return f}});var r,i,o=n(24246),l=n(20595);n(27378);var s=n(88337),u=n(16394),a=n(14746);(r=i||(i={})).CONNECTION="connection",r.SYSTEM="system",r.STATIC="static";let d=a.Ny+a.iW.get(s.R.WEBSITE),c=e=>{var t,n,r,i,o,l;return{kind:"connection",connectionType:e.connection_type,name:null!==(r=e.name)&&void 0!==r?r:null,key:null!==(i=e.key)&&void 0!==i?i:null,saasType:null!==(o=null===(t=e.saas_config)||void 0===t?void 0:t.type)&&void 0!==o?o:null,websiteUrl:null!==(l=null===(n=e.secrets)||void 0===n?void 0:n.url)&&void 0!==l?l:null}},v=e=>c(e),p=e=>c(e),f=e=>{var t;return{kind:"system",identifier:e.identifier,humanReadable:e.human_readable,encodedIcon:null!==(t=e.encoded_icon)&&void 0!==t?t:null}},h=e=>({kind:"static",key:e}),y=e=>{if(e)return a.LN.get(e)},g=e=>{if(!e)return a.VD;if(e.startsWith("data:")||e.startsWith("http"))return e;let t=e.endsWith(".svg")?e:"".concat(e,".svg");return a.Ny+t},m=e=>{if("system"===e.kind){if(e.encodedIcon)return"data:image/svg+xml;base64,".concat(e.encodedIcon);let t=[...a.iW].find(t=>{let[n]=t;return n.toLowerCase()===e.identifier.toLowerCase()});return t?a.Ny+t[1]:a.VD}if("connection"===e.kind){if(e.connectionType===s.R.WEBSITE){if(!e.websiteUrl)return d;let t=(0,u.ge)(e.websiteUrl);return(0,u.tl)(t,100)}if(e.connectionType===s.R.SAAS){let t=y(e.saasType);if(t)return a.Ny+t}let t=a.iW.get(e.connectionType);return t?a.Ny+t:a.VD}return g(e.key)},x=e=>{if("connection"===e.kind){var t,n;return null!==(n=null!==(t=e.name)&&void 0!==t?t:e.key)&&void 0!==n?n:"connection"}return"system"===e.kind?e.humanReadable:e.key||"connection"},k=e=>"connection"===e.kind&&e.connectionType===s.R.WEBSITE?d:a.VD;t.ZP=e=>{let{data:t,...n}=e;return(0,o.jsx)(l.Eep,{boxSize:"32px",objectFit:"cover",src:m(t),fallbackSrc:k(t),alt:x(t),...n})}}}]);