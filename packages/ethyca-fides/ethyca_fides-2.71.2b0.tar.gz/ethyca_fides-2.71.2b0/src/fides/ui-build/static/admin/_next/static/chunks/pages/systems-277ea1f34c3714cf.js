(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3785],{90988:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/systems",function(){return t(69955)}])},30952:function(e,s,t){"use strict";t.d(s,{f:function(){return d}});var l=t(24246),a=t(66726),n=t.n(a),r=t(27378),i=t(26917);let d=e=>{let{value:s,onChange:t,placeholder:a,...d}=e,[o,c]=(0,r.useState)(s);(0,r.useEffect)(()=>{c(s||"")},[s]);let u=n()(t,500),m=(0,r.useCallback)(e=>{c(e),u(e)},[]);return(0,l.jsx)(i.Z,{value:o,onChange:m,onClear:()=>{c(""),t("")},placeholder:a,...d})}},35287:function(e,s,t){"use strict";var l=t(24246),a=t(20595),n=t(88038),r=t.n(n);t(27378),s.Z=e=>{let{children:s,title:t,mainProps:n}=e;return(0,l.jsxs)(a.kCb,{"data-testid":t,direction:"column",height:"calc(100vh - 48px)",width:"calc(100vw - 240px)",children:[(0,l.jsxs)(r(),{children:[(0,l.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,l.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)(a.kCb,{px:10,py:6,as:"main",overflow:"auto",direction:"column",flex:1,minWidth:0,...n,children:s})]})}},58754:function(e,s,t){"use strict";var l=t(24246),a=t(20595),n=t(70788);s.Z=e=>{let{heading:s,breadcrumbItems:t,isSticky:r=!0,children:i,rightContent:d,style:o,...c}=e;return(0,l.jsxs)("div",{...c,style:r?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...o}:{paddingBottom:"24px",...o},children:[(0,l.jsxs)(a.jqI,{justify:"space-between",children:["string"==typeof s?(0,l.jsx)(a.lQT,{className:t||i?"pb-4":void 0,level:1,"data-testid":"page-heading",children:s}):s,d&&(0,l.jsx)("div",{"data-testid":"page-header-right-content",children:d})]}),!!t&&(0,l.jsx)(n.m,{className:i?"pb-4":void 0,items:t,"data-testid":"page-breadcrumb"}),i]})}},19904:function(e,s,t){"use strict";t.d(s,{Tg:function(){return r}});var l=t(24246),a=t(16134),n=t(31793);let r=e=>(0,a.C)(n.uu).filter(s=>e.includes(s)).length>0;s.ZP=e=>{let{scopes:s,children:t}=e;return r(s)?(0,l.jsx)(l.Fragment,{children:t}):null}},97181:function(e,s,t){"use strict";t.d(s,{d:function(){return o}});var l=t(24246),a=t(20595),n=t(34090),r=t(27378),i=t(46238),d=t(40324);let o=e=>{let{name:s,label:t,labelProps:o,tooltip:c,isRequired:u,layout:m="inline",helperText:p,...y}=e,[g,h,{setValue:x}]=(0,n.U$)(s),j=!!(h.touched&&h.error),[v,f]=(0,r.useState)("");g.value||"tags"!==y.mode&&"multiple"!==y.mode||(g.value=[]),"tags"===y.mode&&"string"==typeof g.value&&(g.value=[g.value]);let k="tags"===y.mode?(e,s)=>e?e.value!==v||g.value.includes(v)?y.optionRender?y.optionRender(e,s):e.label:'Create "'.concat(v,'"'):void 0:y.optionRender||void 0,b=e=>{f(e),y.onSearch&&y.onSearch(e)},_=(e,s)=>{x(e),y.onChange&&y.onChange(e,s)};return"inline"===m?(0,l.jsx)(a.NIc,{isInvalid:j,isRequired:u,children:(0,l.jsxs)(a.rjZ,{templateColumns:t?"1fr 3fr":"1fr",children:[t?(0,l.jsx)(d.__,{htmlFor:y.id||s,...o,children:t}):null,(0,l.jsxs)(a.jqI,{align:"center",children:[(0,l.jsxs)(a.jqI,{vertical:!0,flex:1,className:"mr-2",children:[(0,l.jsx)(a.WPr,{...g,id:y.id||s,"data-testid":"controlled-select-".concat(g.name),...y,optionRender:k,onSearch:"tags"===y.mode?b:void 0,onChange:_,value:g.value||void 0,status:j?"error":void 0}),p&&(0,l.jsx)(a.Q6r,{children:p}),(0,l.jsx)(d.Bc,{isInvalid:j,message:h.error,fieldName:g.name})]}),(0,l.jsx)(i.b,{label:c,className:j?"mt-2 self-start":void 0})]})]})}):(0,l.jsx)(a.NIc,{isInvalid:j,isRequired:u,children:(0,l.jsxs)(a.gCW,{alignItems:"start",children:[(0,l.jsxs)(a.jqI,{align:"center",children:[t?(0,l.jsx)(d.__,{htmlFor:y.id||s,fontSize:"xs",my:0,mr:1,...o,children:t}):null,(0,l.jsx)(i.b,{label:c})]}),(0,l.jsx)(a.WPr,{...g,id:y.id||s,"data-testid":"controlled-select-".concat(g.name),...y,optionRender:k,onSearch:"tags"===y.mode?b:void 0,onChange:_,value:g.value||void 0,status:j?"error":void 0}),p&&(0,l.jsx)(a.Q6r,{style:{marginTop:0},children:p}),(0,l.jsx)(d.Bc,{isInvalid:j,message:h.error,fieldName:g.name})]})})}},70788:function(e,s,t){"use strict";t.d(s,{m:function(){return o}});var l=t(24246),a=t(20595),n=t(79894),r=t.n(n),i=t(27378);let{Text:d}=a.AntTypography,o=e=>{let{items:s,...t}=e,n=(0,i.useMemo)(()=>null==s?void 0:s.map((e,t)=>{let n=t===s.length-1,i={...e},o=i.onClick&&!i.href;return("string"==typeof i.title&&(i.title=(0,l.jsx)(d,{style:{color:"inherit",maxWidth:n?void 0:400},ellipsis:!n,id:n?"breadcrumb-current-page":void 0,children:i.title})),o)?i.title=(0,l.jsx)(a.wpx,{type:"text",size:"small",icon:i.icon,onClick:i.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:i.title}):(i.icon&&(i.title=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"anticon align-text-bottom",children:i.icon}),i.title]})),i.href&&i.title&&(i.title=(0,l.jsx)(r(),{href:i.href,className:"ant-breadcrumb-link",children:i.title}),delete i.href)),i}),[s]);return(0,l.jsx)(a.zrq,{items:n,...t})}},33335:function(e,s,t){"use strict";t.d(s,{E:function(){return l}});let l=e=>e.toLowerCase().replace(/[ .]/g,"_").replace(/[^a-zA-Z0-9_<>-]/g,"")},22583:function(e,s,t){"use strict";t.d(s,{j:function(){return a}});var l=t(85054);let a={[l.Ej.TAXONOMY_WHITE]:"default",[l.Ej.TAXONOMY_RED]:"error",[l.Ej.TAXONOMY_ORANGE]:"warning",[l.Ej.TAXONOMY_YELLOW]:"caution",[l.Ej.TAXONOMY_GREEN]:"success",[l.Ej.TAXONOMY_BLUE]:"info",[l.Ej.TAXONOMY_PURPLE]:"alert",[l.Ej.SANDSTONE]:"sandstone",[l.Ej.MINOS]:"minos"}},92818:function(e,s,t){"use strict";t.d(s,{r:function(){return d}});var l=t(24246),a=t(27378),n=t(97181),r=t(22583),i=t(85054);let d={[i.Ej.TAXONOMY_WHITE]:"White",[i.Ej.TAXONOMY_RED]:"Red",[i.Ej.TAXONOMY_ORANGE]:"Orange",[i.Ej.TAXONOMY_YELLOW]:"Yellow",[i.Ej.TAXONOMY_GREEN]:"Green",[i.Ej.TAXONOMY_BLUE]:"Blue",[i.Ej.TAXONOMY_PURPLE]:"Purple",[i.Ej.SANDSTONE]:"Sandstone",[i.Ej.MINOS]:"Minos"},o=e=>{let{color:s,...t}=e;return(0,l.jsx)("span",{"aria-hidden":!0,className:"mr-2 inline-block size-4 rounded-lg align-middle",style:{backgroundColor:"var(--fidesui-bg-".concat(r.j[s],")"),border:s===i.Ej.TAXONOMY_WHITE?"1px solid var(--fidesui-neutral-200)":"none",...t.style}})},c=e=>{let s=null==e?void 0:e.value,t=null==e?void 0:e.label;return(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)(o,{color:s}),(0,l.jsx)("span",{children:t})]})};s.Z=e=>{let s=Object.values(i.Ej).map(e=>({value:e,label:d[e]})),[t,r]=(0,a.useState)(void 0);return(0,l.jsx)(n.d,{...e,options:s,optionRender:c,layout:"stacked",value:t,onChange:e=>{r(e)},prefix:(0,l.jsx)(o,{color:null!=t?t:i.Ej.TAXONOMY_WHITE,style:{marginBottom:"2px"}})})}},69955:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return J}});var l=t(24246),a=t(20595),n=t(86677),r=t(27378),i=t(25980),d=t(35287),o=t(77830),c=t(58754),u=t(30952),m=t(812),p=t(65450),y=t(34090),g=t(83766),h=t.n(g),x=t(55484),j=t(97181),v=t(40324),f=t(28079),k=t(1315),b=t(92818);let _="all-suggested";var E=e=>{let{options:s,loading:t,name:n,suggestedDataUses:i,...d}=e,[o,c,{setValue:u}]=(0,y.U$)(n),m=!!(c.touched&&c.error),p=(0,r.useMemo)(()=>{let e=[],t=[];return null==s||s.forEach(s=>{i.includes(s.value)?e.push(s):t.push(s)}),{suggested:e,all:t}},[s,i]),g=p.suggested.length?[{label:"Select all suggested",value:_},{label:(0,l.jsxs)(a.vyj,{children:[(0,l.jsx)(a.QMR,{size:14}),(0,l.jsx)("span",{children:"Suggested data uses"})]}),value:"suggested",options:p.suggested},{label:(0,l.jsxs)(a.vyj,{children:[(0,l.jsx)(a.PJP.BBB,{}),(0,l.jsx)("span",{children:"All data uses"})]}),value:"all",options:p.all}]:p.all;return(0,l.jsxs)(a.jqI,{vertical:!0,gap:"small",children:[(0,l.jsx)(a.jqI,{align:"center",children:(0,l.jsx)(v.__,{htmlFor:d.id||n,fontSize:"xs",my:0,mr:1,children:"Data uses"})}),(0,l.jsx)(a.WPr,{options:g,mode:"multiple",placeholder:"Select data uses",allowClear:!0,loading:t,value:o.value,onChange:e=>{e.includes(_)?u(h()([...i,...e.filter(e=>e!==_)])):u(e)},status:m?"error":void 0,virtual:!1,...d}),(0,l.jsx)(v.Bc,{isInvalid:m,message:c.error,fieldName:o.name})]})},S=t(85054);let C=x.Ry().shape({name:x.Z_().required("Name is required").label("Name"),label_color:x.Z_().required("Color is required").label("Color"),systems:x.IX().of(x.Z_()).label("Systems"),data_uses:x.IX().of(x.Z_()).label("Data uses")});var N=e=>{let{selectedSystemKeys:s=[],onSubmit:t,onCancel:n,isSubmitting:i=!1}=e,{data:d=[],isLoading:o}=(0,f.fd)(),{data:c,isLoading:u}=(0,k.K3)(),m=(0,r.useMemo)(()=>d.map(e=>({label:e.name||e.fides_key,value:e.fides_key})),[d]),p=(0,r.useMemo)(()=>{var e;let t=null!==(e=null==c?void 0:c.filter(e=>s.includes(e.fides_key)))&&void 0!==e?e:[];return h()(null==t?void 0:t.flatMap(e=>e.privacy_declarations.map(e=>e.data_use)))},[c,s]),g=(0,r.useMemo)(()=>{var e;return null!==(e=null==c?void 0:c.map(e=>({label:e.name||e.fides_key,value:e.fides_key})))&&void 0!==e?e:[]},[c]),x={name:"",description:"",label_color:S.Ej.TAXONOMY_WHITE,systems:s,data_uses:[],active:!0};return(0,l.jsx)(y.J9,{initialValues:x,validationSchema:C,onSubmit:t,enableReinitialize:!0,children:e=>{let{isValid:s,dirty:t}=e;return(0,l.jsx)(y.l0,{children:(0,l.jsxs)(a.jqI,{vertical:!0,gap:"middle",children:[(0,l.jsx)(a.AntTypography.Title,{level:2,children:"Create system group"}),(0,l.jsx)(v.j0,{name:"name",label:"Name",isRequired:!0,variant:"stacked",placeholder:"Enter system group name"}),(0,l.jsx)(v.Ks,{name:"description",label:"Description",variant:"stacked",placeholder:"Enter system group description",resize:!1}),(0,l.jsx)(j.d,{name:"systems",label:"Systems",mode:"multiple",placeholder:"Select systems",options:g,layout:"stacked",allowClear:!0,loading:u}),(0,l.jsx)(b.Z,{name:"label_color",label:"Color"}),(0,l.jsx)(E,{name:"data_uses",options:m,loading:o,suggestedDataUses:p}),(0,l.jsxs)(a.jqI,{gap:"small",justify:"space-between",className:"pt-4",children:[(0,l.jsx)(a.wpx,{onClick:n,disabled:i,children:"Cancel"}),(0,l.jsx)(a.wpx,{type:"primary",htmlType:"submit",loading:i,disabled:!s||!t||i,"data-testid":"save-btn",children:"Create group"})]})]})})}})},w=t(31793),T=t(31883),O=e=>{let{selectedRowKeys:s,createModalIsOpen:t,setCreateModalIsOpen:n,handleCreateSystemGroup:d,handleBulkAddToGroup:o,groupMenuItems:c}=e,[u,y]=a.Pg3.useMessage(),[g,h]=(0,r.useState)(!1),[x]=(0,p.WP)(),{plus:j}=(0,i.hz)(),{data:v}=(0,w.wv)({page:1,size:100,username:""}),[f]=(0,p.C9)(),k=(0,r.useCallback)(async e=>{let t=await x({data_steward:e,system_keys:s});(0,T.D4)(t)?u.error((0,m.e$)(t.error,"A problem occurred assigning stewards")):u.success("".concat(s.length," systems assigned to ").concat(e," successfully"))},[x,s,u]),b=async()=>{let e=await f(s);(0,T.D4)(e)?u.error((0,m.e$)(e.error,"A problem occurred deleting systems")):u.success("".concat(s.length," systems deleted successfully"))},_=(0,r.useMemo)(()=>{let e=[];return c.length&&j&&e.push(s.length?{key:"add-to-system-group",label:"Add to system group",children:[{key:"new-group",label:"Create new group +",onClick:()=>n(!0)},{type:"divider"},...c.map(e=>({key:e.key,label:e.label,onClick:()=>o(e.key)}))]}:{key:"new-group",label:"Create system group +",onClick:()=>n(!0)}),(null==v?void 0:v.items.length)&&e.push({key:"assign-data-steward",label:"Assign data steward",disabled:!s.length,children:v.items.map(e=>({key:e.username,label:e.username,onClick:()=>k(e.username)}))},{type:"divider"}),e.push({key:"delete",label:"Delete",disabled:!s.length,onClick:()=>{h(!0)}}),e},[c,j,null==v?void 0:v.items,s.length,n,o,k]);return(0,l.jsxs)(l.Fragment,{children:[y,(0,l.jsx)(a.$zI,{open:g,onCancel:()=>h(!1),onOk:b,okText:"Delete",okType:"danger",centered:!0,children:(0,l.jsxs)(a.AntTypography.Paragraph,{children:["Delete ",s.length," systems? This action cannot be undone."]})}),(0,l.jsx)(a.$zI,{open:t,destroyOnHidden:!0,onCancel:()=>n(!1),centered:!0,width:768,footer:null,children:(0,l.jsx)(N,{selectedSystemKeys:s.map(e=>e.toString()),onSubmit:d,onCancel:()=>n(!1)})}),(0,l.jsx)(a.S0p,{trigger:["click"],menu:{items:_},children:(0,l.jsx)(a.wpx,{icon:(0,l.jsx)(a.PJP._ME,{}),children:"Actions"})})]})},A=t(19904),I=t(26070),M=t(3110),P=t(99640),D=t(8125),R=t(16394),z=t(33335),X=t(69353),Y=t(88832),q=t(34929),W=e=>{let{privacyDeclarations:s,...t}=e,{getDataUseDisplayName:a}=(0,q.Z)(),n=s.map(e=>e.data_use).map(e=>({label:a(e),key:e}));return(0,l.jsx)(I.Q,{values:n,...t})},Z=t(56141),B=t.n(Z),L=t(22583);let F="update-system-groups-msg";var G=e=>{let{selectedGroups:s,allGroups:t,system:n,columnState:i,...d}=e,[o,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)(s.map(e=>e.fides_key)),[y,g]=a.Pg3.useMessage(),[h]=(0,k.qQ)(),x=async()=>{if(c(!1),B()(u,s.map(e=>e.fides_key)))return;y.open({key:F,type:"loading",content:"Updating groups for ".concat(n.name,"...")});let e=await h({...n,system_groups:u});(0,T.D4)(e)?y.open({key:F,type:"error",content:(0,m.e$)(e.error,"Failed to update system groups")}):y.open({key:F,type:"success",content:"Groups updated for ".concat(n.name)}),setTimeout(()=>{y.destroy(F)},3e3)};return(0,l.jsxs)(a.jqI,{gap:"small",...d,children:[g,!o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.j8w,{onClick:()=>c(!0),addable:!0,"data-testid":"group-add-btn","aria-label":"Add group"}),(0,l.jsx)(I.Q,{values:s.map(e=>e&&{label:e.name,key:e.fides_key,tagProps:{color:e.label_color?"".concat(L.j[e.label_color]):void 0,bordered:!1}}),columnState:i})]}),o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.WPr,{options:t.map(e=>({label:e.name,value:e.fides_key})),mode:"tags",defaultValue:s.map(e=>e.fides_key),defaultOpen:!0,onChange:e=>{p(e)}}),(0,l.jsx)(a.wpx,{icon:(0,l.jsx)(a.PJP.MCw,{}),onClick:x})]})]})},U=()=>{let{data:e}=(0,X.QD)(),s=(0,r.useMemo)(()=>e?e.reduce((e,s)=>({...e,[s.fides_key]:s}),{}):{},[e]),{data:t}=(0,w.wv)({page:1,size:100,username:""}),[d]=(0,p.DW)(),[o]=(0,X.Xz)(),[c]=(0,X.Nr)(),[u,y]=(0,r.useState)(!1),[g,x]=(0,r.useState)(!1),[j,v]=(0,r.useState)(!1),[f,k]=(0,r.useState)(!1),[b,_]=(0,r.useState)(null),E=(0,D.o)({pagination:{defaultPageSize:25,pageSizeOptions:[25,50,100]},search:{defaultSearchQuery:""},sorting:{defaultSortKey:Y.E.NAME,defaultSortOrder:"ascend",validColumns:[Y.E.NAME]}}),{columnFilters:C,pageIndex:N,pageSize:O,searchQuery:q,updateSearch:Z,sortKey:B,sortOrder:L}=E,{data:F,isLoading:U,isFetching:$}=(0,p.xF)({page:N,size:O,search:q,sort_by:B,sort_asc:"ascend"===L,show_deleted:!0,...C}),J=(0,r.useMemo)(()=>{var e,s;return{enableSelection:!0,dataSource:null!==(e=null==F?void 0:F.items)&&void 0!==e?e:[],totalRows:null!==(s=null==F?void 0:F.total)&&void 0!==s?s:0,isLoading:U,isFetching:$,getRowKey:e=>e.fides_key,customTableProps:{locale:{emptyText:(0,l.jsx)("div",{children:"No systems found"})}}}},[F,U,$]),{tableProps:Q,selectionProps:H}=(0,D.V)(E,J),{selectedRowKeys:K}=null!=H?H:{},[V,ee]=a.Pg3.useMessage(),{plus:es}=(0,i.hz)(),et=(0,n.useRouter)(),el=(0,A.Tg)([S.Sh.SYSTEM_DELETE]),ea=async e=>{let s=await d(e.fides_key);(0,T.D4)(s)?V.error((0,m.e$)(s.error,"Failed to delete system")):V.success("Successfully deleted system"),k(!1)},en=async e=>{let s={...e,fides_key:(0,z.E)(e.name),active:!0},t=await c(s);if((0,T.D4)(t))V.error((0,m.e$)(t.error));else{var l,a;let e="System group '".concat(t.data.name,"' created");(null===(l=t.data.systems)||void 0===l?void 0:l.length)===1?e+=" with system '".concat(t.data.systems[0],"'"):(null===(a=t.data.systems)||void 0===a?void 0:a.length)&&(e+=" with ".concat(t.data.systems.length," systems")),V.success(e)}v(!1)},er=(0,r.useCallback)(async e=>{var t;if(!K)return;let l=s[e],a=await o({...l,systems:h()([...null!==(t=l.systems)&&void 0!==t?t:[],...K.map(e=>e.toString())])});(0,T.D4)(a)?V.error((0,m.e$)(a.error)):V.success("".concat(null==K?void 0:K.length," systems added to group '").concat(e,"'"))},[s,o,K,V]),ei=(0,r.useMemo)(()=>{var s;return null!==(s=null==e?void 0:e.map(e=>({key:e.fides_key,label:e.name,onClick:()=>er(e.fides_key)})))&&void 0!==s?s:[]},[e,er]);return{tableProps:Q,selectionProps:H,columns:(0,r.useMemo)(()=>{var n;return[{title:"Name",dataIndex:"name",key:Y.E.NAME,render:(e,s)=>(0,l.jsx)(P.Z,{href:"/systems/configure/".concat(s.fides_key),"data-testid":"system-link-".concat(s.fides_key),children:e||s.fides_key}),ellipsis:!0,fixed:"left",sorter:!0,sortOrder:B===Y.E.NAME?L:null},{dataIndex:"system_groups",key:Y.E.SYSTEM_GROUPS,render:(t,a)=>{var n;return(0,l.jsx)(G,{selectedGroups:null!==(n=null==t?void 0:t.map(e=>null==s?void 0:s[e]).filter(e=>!!e))&&void 0!==n?n:[],allGroups:e,system:{...a,system_groups:null!=t?t:[]},columnState:{isWrapped:!0,isExpanded:u},className:"w-96"})},title:"Groups",hidden:!es,menu:{items:M.DI,onClick:e=>{e.domEvent.stopPropagation(),"expand-all"===e.key?y(!0):"collapse-all"===e.key&&y(!1)}},filters:(0,R.nZ)(null==e?void 0:e.map(e=>e.fides_key),e=>{var t,l;return null!==(l=null===(t=s[e])||void 0===t?void 0:t.name)&&void 0!==l?l:e}),filteredValue:(null==C?void 0:C.system_groups)||null},{title:"Data uses",menu:{items:M.DI,onClick:e=>{e.domEvent.stopPropagation(),"expand-all"===e.key?x(!0):"collapse-all"===e.key&&x(!1)}},dataIndex:"privacy_declarations",key:Y.E.DATA_USES,render:e=>(0,l.jsx)(W,{privacyDeclarations:e,columnState:{isWrapped:!0,isExpanded:g}})},{title:"Data stewards",dataIndex:"data_stewards",key:Y.E.DATA_STEWARDS,render:e=>(0,l.jsx)(I.v,{values:null!=e?e:[],valueSuffix:"users"}),filters:(0,R.nZ)(null==t?void 0:null===(n=t.items)||void 0===n?void 0:n.map(e=>e.username)),filteredValue:(null==C?void 0:C.data_stewards)||null},{title:"Description",dataIndex:"description",key:Y.E.DESCRIPTION,render:e=>(0,l.jsx)("div",{className:"max-w-96",children:(0,l.jsx)(a.AntTypography.Text,{ellipsis:{tooltip:e},children:e})}),ellipsis:!0},{title:"Actions",key:Y.E.ACTIONS,render:(e,s)=>(0,l.jsx)(a.kCb,{justify:"end",children:(0,l.jsx)(a.S0p,{trigger:["click"],menu:{items:[{key:"edit",label:"Edit",icon:(0,l.jsx)(a.PJP.I8b,{}),onClick:()=>et.push("/systems/configure/".concat(s.fides_key))},...el?[{key:"delete",label:"Delete",icon:(0,l.jsx)(a.PJP.ZNm,{}),onClick:()=>{_(s),k(!0)}}]:[]]},children:(0,l.jsx)(a.wpx,{size:"small",icon:(0,l.jsx)(a.PJP.r43,{}),"aria-label":"More actions",type:"text","data-testid":"system-actions-menu"})})}),fixed:"right"}]},[B,L,es,e,null==C?void 0:C.system_groups,null==C?void 0:C.data_stewards,null==t?void 0:t.items,u,s,g,el,et]),searchQuery:q,updateSearch:Z,columnFilters:C,pageIndex:N,pageSize:O,createModalIsOpen:j,setCreateModalIsOpen:v,deleteModalIsOpen:f,setDeleteModalIsOpen:k,setSelectedSystemForDelete:_,handleCreateSystemGroup:en,handleDelete:ea,handleBulkAddToGroup:er,messageContext:ee,groupMenuItems:ei,selectedSystemForDelete:b}},$=()=>{var e,s;let{tableProps:t,selectionProps:n,columns:r,searchQuery:i,updateSearch:d,createModalIsOpen:o,setCreateModalIsOpen:c,deleteModalIsOpen:m,setDeleteModalIsOpen:p,handleDelete:y,handleCreateSystemGroup:g,handleBulkAddToGroup:h,messageContext:x,groupMenuItems:j,selectedSystemForDelete:v}=U();return(0,l.jsxs)(l.Fragment,{children:[x,(0,l.jsxs)(a.jqI,{justify:"space-between",className:"mb-4",children:[(0,l.jsx)(u.f,{value:i,onChange:d,"data-testid":"system-search"}),(0,l.jsxs)(a.jqI,{gap:"small",children:[(0,l.jsx)(O,{selectedRowKeys:null!==(e=null==n?void 0:n.selectedRowKeys)&&void 0!==e?e:[],createModalIsOpen:o,setCreateModalIsOpen:c,handleCreateSystemGroup:g,handleBulkAddToGroup:h,groupMenuItems:j}),(0,l.jsx)(a.$zI,{open:m,onCancel:()=>p(!1),onOk:()=>!!v&&y(v),okText:"Delete",okType:"danger",cancelText:"Cancel",centered:!0,children:(0,l.jsxs)(a.AntTypography.Paragraph,{children:["Are you sure you want to delete"," ",null!==(s=null==v?void 0:v.name)&&void 0!==s?s:null==v?void 0:v.fides_key,"? This action cannot be undone."]})})]})]}),(0,l.jsx)(a.V5H,{...t,columns:r,rowSelection:n})]})},J=()=>{let e=(0,n.useRouter)(),{dictionaryService:s}=(0,i.hz)();return(0,l.jsx)(d.Z,{title:"System inventory",children:(0,l.jsxs)(a.xuv,{"data-testid":"system-management",children:[(0,l.jsxs)(c.Z,{heading:"System inventory",breadcrumbItems:[{title:"All systems"}],children:[s&&(0,l.jsx)(a.S0p,{trigger:["click"],menu:{items:[{label:"Create new system",key:"add-system",onClick:()=>e.push(o.N5)},{label:"Add multiple systems",key:"add-multiple-systems",onClick:()=>e.push(o.bJ)}]},children:(0,l.jsx)(a.wpx,{type:"primary","data-testid":"add-system-btn",icon:(0,l.jsx)(a.PJP._ME,{}),className:"absolute right-8 top-8",children:"Add system"})}),!s&&(0,l.jsx)(a.wpx,{type:"primary","data-testid":"add-system-btn",onClick:()=>e.push(o.N5),children:"Add new system"})]}),(0,l.jsx)($,{})]})})}},31883:function(e,s,t){"use strict";t.d(s,{Bw:function(){return l.Bw},D4:function(){return l.D4}});var l=t(19043)}},function(e){e.O(0,[431,8765,9278,5163,1896,7245,9965,2888,9774,179],function(){return e(e.s=90988)}),_N_E=e.O()}]);