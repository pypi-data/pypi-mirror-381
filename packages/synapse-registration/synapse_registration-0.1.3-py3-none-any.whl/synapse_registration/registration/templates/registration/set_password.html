{% extends "base.html" %}
{% block title %}
    Set Your Password
{% endblock title %}
{% block content %}
    <div class="columns is-centered">
        <div class="column is-8-tablet is-6-desktop">
            <div class="progress-container mb-5">
                <div class="progress-step completed">1</div>
                <div class="progress-step completed">2</div>
                <div class="progress-step completed">3</div>
                <div class="progress-step completed">4</div>
                <div class="progress-step active">5</div>
            </div>
            <div class="box p-5">
                <h1 class="title is-3 has-text-centered mb-5">Set Your Password</h1>
                <div class="notification is-success">
                    <p>Your registration has been approved! Please set a password for your account.</p>
                </div>
                <p class="mb-4">
                    Welcome to {{ matrix_domain }}! You're almost ready to start using your new Matrix account.
                    Please create a strong password for your account <strong>@{{ username }}:{{ matrix_domain }}</strong>.
                </p>
                <form method="post" class="mb-4">
                    {% csrf_token %}
                    <div class="field">
                        <label class="label">{{ form.password1.label }}</label>
                        <div class="control has-icons-left">
                            {{ form.password1 }}
                            <span class="icon is-small is-left">
                                <i class="fas fa-lock"></i>
                            </span>
                        </div>
                        {% if form.password1.errors %}
                            <p class="help is-danger">
                                <span class="icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </span>
                                {{ form.password1.errors.0 }}
                            </p>
                        {% endif %}
                    </div>
                    <div class="field">
                        <label class="label">{{ form.password2.label }}</label>
                        <div class="control has-icons-left">
                            {{ form.password2 }}
                            <span class="icon is-small is-left">
                                <i class="fas fa-lock"></i>
                            </span>
                        </div>
                        {% if form.password2.errors %}
                            <p class="help is-danger">
                                <span class="icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </span>
                                {{ form.password2.errors.0 }}
                            </p>
                        {% endif %}
                    </div>
                    <div class="field mt-5">
                        <div class="control">
                            <button type="submit" class="button is-link is-fullwidth">
                                <span>Set Password and Activate Account</span>
                                <span class="icon">
                                    <i class="fas fa-check-circle"></i>
                                </span>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock content %}
