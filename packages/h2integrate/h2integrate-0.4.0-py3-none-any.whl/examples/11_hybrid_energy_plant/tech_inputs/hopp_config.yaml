site:
  data:
    lat: 30.6617
    lon: -101.7096
    elev: 745 # 147 CA # m
    year: 2013
    n_timesteps: 8760
    site_boundaries: # enlarged boundaries to not constraint for now
      verts:
        - [0.0, 0.0]
        - [0.0, 25000]
        - [25000, 25000]
        - [25000, 0.0]
      verts_simple:
        - [0.0, 0.0]
        - [0.0, 25000]
        - [25000, 25000]
        - [25000, 0.0]
  solar_resource_file: "tech_inputs/weather/solar/30.6617_-101.7096_psmv3_60_2013.csv"
  wind_resource_file: "tech_inputs/weather/wind/30.6617_-101.7096_windtoolkit_2013_60min_80m_100m.srw"
  wave_resource_file: ""
  grid_resource_file: ""
  # hub_height: 40.0
  capacity_hours: []
  solar: true
  wind: true
  wave: false
  wind_resource_origin: "WTK"
  desired_schedule: !include ./desired_schedules/desired_schedule_hourly_mw.yaml
  # desired_schedule: !include ./desired_schedules/desired_schedule_hourly_day_mw.yaml
  # desired_schedule: !include ./desired_schedules/desired_schedule_hourly_night_mw.yaml
  # desired_schedule: !include ./desired_schedules/desired_schedule_constant_mw.yaml
  # desired_schedule: !include ./desired_schedules/desired_schedule_constant_day_mw.yaml
  # desired_schedule: !include ./desired_schedules/desired_schedule_constant_night_mw.yaml
  curtailment_value_type: "desired_schedule"

technologies:
  wind:
    num_turbines: 2
    turbine_rating_kw: 1500
    layout_mode: 'grid'
    model_name: pysam
    timestep: [0, 8760]
    override_wind_resource_height: True
    hub_height: 80.0
    fin_model: !include default_fin_config.yaml
  pv:
    system_capacity_kw: 2500 #2.222222 # initial guess
    # dc_ac_ratio: 1.03 # default is 1.3
    dc_degradation: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    fin_model: !include default_fin_config.yaml
  battery:
    system_capacity_kwh: 10000 # initial guess
    system_capacity_kw: 2000 # initial guess
    minimum_SOC: 20.0
    maximum_SOC: 100.0
    initial_SOC: 90.0
    fin_model: !include default_fin_config.yaml
  grid:
    interconnect_kw: 2000.0 # Max power constraint hourly is 1729 kW, this value just rounds that up
    fin_model: !include default_fin_config.yaml

config:
  simulation_options:
    cache: false
    wind:
      skip_financial: false
  dispatch_options:
    battery_dispatch: load_following_heuristic #load_following_heuristic #heuristic
    solver: cbc
    n_look_ahead_periods: 48
    grid_charging: false
    pv_charging_only: false
    include_lifecycle_count: false
  cost_info: # using utility scale costs
    wind_installed_cost_mw: 1228308.0 # 2024 ATB for land-based wind class 1 moderate case year 2030 in 2022 USD
    solar_installed_cost_mw: 1043702.0 # 2024 ATB for utility pv moderate case year 2030 in 2022 USD
    storage_installed_cost_mwh: 245692.0 # based on 2024 ATB utility-scale capital cost for battery energy costs for year 2030 in 2022 USD
    storage_installed_cost_mw: 317384.0 # 2024 ATB moderate case for commercial-scale battery power capital costs year 2030 in 2022 USD
    wind_om_per_kw: 29.2638 # 2024 ATB for land-based wind class 1 moderate case year 2030
    pv_om_per_kw: 17.9907 # 2024 ATB for utility-scale pv moderate case year 2024 in 2022 USD
    battery_om_per_kw: 7.9346 # 2024 ATB for utility-scale battery storage moderate case year 2030 in 2022 USD - ~0.025*317
    battery_om_per_kwh: 6.1423 # 2024 ATB for utility-scale battery storage moderate case year 2030 in 2022 USD - ~0.025*245
