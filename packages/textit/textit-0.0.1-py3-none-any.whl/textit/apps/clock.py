"""An App to show the current time."""

# AUTOGENERATED! DO NOT EDIT! File to edit: ../../nbs/20_clock_app.ipynb.

# %% auto 0
__all__ = ['ClockApp', 'main']

# %% ../../nbs/20_clock_app.ipynb 3
from datetime import datetime

from textual.app import App, ComposeResult
from textual.widgets import Digits
from typing import ClassVar
from textual.binding import Binding, BindingType


# %% ../../nbs/20_clock_app.ipynb 4
class ClockApp(App):
    CSS = """
    Screen { align: center middle; }
    Digits { width: auto; }
    """


    BINDINGS: ClassVar[list[BindingType]] = [
        
        Binding(
            "f10",
            "quit",
            "Quit",
            tooltip="Quit the app and return to the command prompt.",
            show=True,
            priority=True,
        )
    ]
    """The default key bindings."""

    def compose(self) -> ComposeResult:
        yield Digits("")

    def on_ready(self) -> None:
        self.update_clock()
        self.set_interval(1, self.update_clock)

    def update_clock(self) -> None:
        clock = datetime.now().time()
        self.query_one(Digits).update(f"{clock:%T}")



# %% ../../nbs/20_clock_app.ipynb 5
def main():
    app = ClockApp()
    app.run()
