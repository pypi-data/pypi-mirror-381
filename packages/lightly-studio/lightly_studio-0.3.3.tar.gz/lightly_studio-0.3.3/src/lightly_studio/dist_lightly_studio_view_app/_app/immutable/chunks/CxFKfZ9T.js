var q=Object.defineProperty;var E=(e,t,r)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var w=(e,t,r)=>E(e,typeof t!="symbol"?t+"":t,r);const R={bodySerializer:e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString():r)},U=async(e,t)=>{const r=typeof t=="function"?await t(e):t;if(r)return e.scheme==="bearer"?`Bearer ${r}`:e.scheme==="basic"?`Basic ${btoa(r)}`:r},V=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},P=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},W=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},C=({allowReserved:e,explode:t,name:r,style:o,value:a})=>{if(!t){const n=(e?a:a.map(c=>encodeURIComponent(c))).join(P(o));switch(o){case"label":return`.${n}`;case"matrix":return`;${r}=${n}`;case"simple":return n;default:return`${r}=${n}`}}const i=V(o),s=a.map(n=>o==="label"||o==="simple"?e?n:encodeURIComponent(n):g({allowReserved:e,name:r,value:n})).join(i);return o==="label"||o==="matrix"?i+s:s},g=({allowReserved:e,name:t,value:r})=>{if(r==null)return"";if(typeof r=="object")throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?r:encodeURIComponent(r)}`},$=({allowReserved:e,explode:t,name:r,style:o,value:a,valueOnly:i})=>{if(a instanceof Date)return i?a.toISOString():`${r}=${a.toISOString()}`;if(o!=="deepObject"&&!t){let c=[];Object.entries(a).forEach(([p,y])=>{c=[...c,p,e?y:encodeURIComponent(y)]});const f=c.join(",");switch(o){case"form":return`${r}=${f}`;case"label":return`.${f}`;case"matrix":return`;${r}=${f}`;default:return f}}const s=W(o),n=Object.entries(a).map(([c,f])=>g({allowReserved:e,name:o==="deepObject"?`${r}[${c}]`:c,value:f})).join(s);return o==="label"||o==="matrix"?s+n:n},k=/\{[^{}]+\}/g,H=({path:e,url:t})=>{let r=t;const o=t.match(k);if(o)for(const a of o){let i=!1,s=a.substring(1,a.length-1),n="simple";s.endsWith("*")&&(i=!0,s=s.substring(0,s.length-1)),s.startsWith(".")?(s=s.substring(1),n="label"):s.startsWith(";")&&(s=s.substring(1),n="matrix");const c=e[s];if(c==null)continue;if(Array.isArray(c)){r=r.replace(a,C({explode:i,name:s,style:n,value:c}));continue}if(typeof c=="object"){r=r.replace(a,$({explode:i,name:s,style:n,value:c,valueOnly:!0}));continue}if(n==="matrix"){r=r.replace(a,`;${g({name:s,value:c})}`);continue}const f=encodeURIComponent(n==="label"?`.${c}`:c);r=r.replace(a,f)}return r},z=({allowReserved:e,array:t,object:r}={})=>a=>{const i=[];if(a&&typeof a=="object")for(const s in a){const n=a[s];if(n!=null)if(Array.isArray(n)){const c=C({allowReserved:e,explode:!0,name:s,style:"form",value:n,...t});c&&i.push(c)}else if(typeof n=="object"){const c=$({allowReserved:e,explode:!0,name:s,style:"deepObject",value:n,...r});c&&i.push(c)}else{const c=g({allowReserved:e,name:s,value:n});c&&i.push(c)}}return i.join("&")},N=e=>{var r;if(!e)return"stream";const t=(r=e.split(";")[0])==null?void 0:r.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return"json";if(t==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(o=>t.startsWith(o)))return"blob";if(t.startsWith("text/"))return"text"}},B=async({security:e,...t})=>{for(const r of e){const o=await U(r,t.auth);if(!o)continue;const a=r.name??"Authorization";switch(r.in){case"query":t.query||(t.query={}),t.query[a]=o;break;case"cookie":t.headers.append("Cookie",`${a}=${o}`);break;case"header":default:t.headers.set(a,o);break}return}},A=e=>L({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:typeof e.querySerializer=="function"?e.querySerializer:z(e.querySerializer),url:e.url}),L=({baseUrl:e,path:t,query:r,querySerializer:o,url:a})=>{const i=a.startsWith("/")?a:`/${a}`;let s=(e??"")+i;t&&(s=H({path:t,url:s}));let n=r?o(r):"";return n.startsWith("?")&&(n=n.substring(1)),n&&(s+=`?${n}`),s},x=(e,t)=>{var o;const r={...e,...t};return(o=r.baseUrl)!=null&&o.endsWith("/")&&(r.baseUrl=r.baseUrl.substring(0,r.baseUrl.length-1)),r.headers=D(e.headers,t.headers),r},D=(...e)=>{const t=new Headers;for(const r of e){if(!r||typeof r!="object")continue;const o=r instanceof Headers?r.entries():Object.entries(r);for(const[a,i]of o)if(i===null)t.delete(a);else if(Array.isArray(i))for(const s of i)t.append(a,s);else i!==void 0&&t.set(a,typeof i=="object"?JSON.stringify(i):i)}return t};class _{constructor(){w(this,"_fns");this._fns=[]}clear(){this._fns=[]}getInterceptorIndex(t){return typeof t=="number"?this._fns[t]?t:-1:this._fns.indexOf(t)}exists(t){const r=this.getInterceptorIndex(t);return!!this._fns[r]}eject(t){const r=this.getInterceptorIndex(t);this._fns[r]&&(this._fns[r]=null)}update(t,r){const o=this.getInterceptorIndex(t);return this._fns[o]?(this._fns[o]=r,t):!1}use(t){return this._fns=[...this._fns,t],this._fns.length-1}}const J=()=>({error:new _,request:new _,response:new _}),M=z({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),Q={"Content-Type":"application/json"},O=(e={})=>({...R,headers:Q,parseAs:"auto",querySerializer:M,...e}),G=(e={})=>{let t=x(O(),e);const r=()=>({...t}),o=s=>(t=x(t,s),r()),a=J(),i=async s=>{const n={...t,...s,fetch:s.fetch??t.fetch??globalThis.fetch,headers:D(t.headers,s.headers)};n.security&&await B({...n,security:n.security}),n.requestValidator&&await n.requestValidator(n),n.body&&n.bodySerializer&&(n.body=n.bodySerializer(n.body)),(n.body===void 0||n.body==="")&&n.headers.delete("Content-Type");const c=A(n),f={redirect:"follow",...n};let p=new Request(c,f);for(const d of a.request._fns)d&&(p=await d(p,n));const y=n.fetch;let l=await y(p);for(const d of a.response._fns)d&&(l=await d(l,p,n));const b={request:p,response:l};if(l.ok){if(l.status===204||l.headers.get("Content-Length")==="0")return n.responseStyle==="data"?{}:{data:{},...b};const d=(n.parseAs==="auto"?N(l.headers.get("Content-Type")):n.parseAs)??"json";let h;switch(d){case"arrayBuffer":case"blob":case"formData":case"json":case"text":h=await l[d]();break;case"stream":return n.responseStyle==="data"?l.body:{data:l.body,...b}}return d==="json"&&(n.responseValidator&&await n.responseValidator(h),n.responseTransformer&&(h=await n.responseTransformer(h))),n.responseStyle==="data"?h:{data:h,...b}}const j=await l.text();let T;try{T=JSON.parse(j)}catch{}const S=T??j;let m=S;for(const d of a.error._fns)d&&(m=await d(S,l,p,n));if(m=m||{},n.throwOnError)throw m;return n.responseStyle==="data"?void 0:{error:m,...b}};return{buildUrl:A,connect:s=>i({...s,method:"CONNECT"}),delete:s=>i({...s,method:"DELETE"}),get:s=>i({...s,method:"GET"}),getConfig:r,head:s=>i({...s,method:"HEAD"}),interceptors:a,options:s=>i({...s,method:"OPTIONS"}),patch:s=>i({...s,method:"PATCH"}),post:s=>i({...s,method:"POST"}),put:s=>i({...s,method:"PUT"}),request:i,setConfig:o,trace:s=>i({...s,method:"TRACE"})}},F=e=>(e.created_at=new Date(e.created_at),e.updated_at=new Date(e.updated_at),e),K=async e=>(e=e.map(t=>F(t)),e),X=e=>(e.created_at&&(e.created_at=new Date(e.created_at)),e.updated_at&&(e.updated_at=new Date(e.updated_at)),e),Y=async e=>(e=X(e),e),Z=e=>(e.created_at=new Date(e.created_at),e.updated_at=new Date(e.updated_at),e),I=e=>(e.tags&&(e.tags=e.tags.map(t=>Z(t))),e),v=e=>(e.data=e.data.map(t=>I(t)),e),ee=async e=>(e=v(e),e),te=async e=>(e=I(e),e),re=e=>(e.created_at&&(e.created_at=new Date(e.created_at)),e),ne=async e=>(e=e.map(t=>re(t)),e),se=e=>(e.created_at=new Date(e.created_at),e.updated_at=new Date(e.updated_at),e),ae=async e=>(e=se(e),e),u=G(O()),ie=e=>((e==null?void 0:e.client)??u).get({responseTransformer:K,url:"/api/datasets",...e}),ce=e=>(e.client??u).get({responseTransformer:Y,url:"/api/datasets/{dataset_id}",...e}),ue=e=>(e.client??u).post({responseTransformer:ee,url:"/api/datasets/{dataset_id}/samples/list",...e,headers:{"Content-Type":"application/json",...e.headers}}),le=e=>(e.client??u).get({responseTransformer:te,url:"/api/datasets/{dataset_id}/samples/{sample_id}",...e}),de=e=>((e==null?void 0:e.client)??u).get({url:"/api/annotation_labels",...e}),fe=e=>(e.client??u).post({url:"/api/annotation_labels",...e,headers:{"Content-Type":"application/json",...e.headers}}),pe=e=>(e.client??u).get({url:"/api/datasets/{dataset_id}/annotations",...e}),he=e=>(e.client??u).post({url:"/api/datasets/{dataset_id}/annotations",...e,headers:{"Content-Type":"application/json",...e.headers}}),me=e=>(e.client??u).put({responseTransformer:ne,url:"/api/datasets/{dataset_id}/annotations",...e,headers:{"Content-Type":"application/json",...e.headers}}),ye=e=>(e.client??u).get({url:"/api/datasets/{dataset_id}/annotations/count",...e,headers:{"Content-Type":"application/json",...e.headers}}),be=e=>(e.client??u).delete({url:"/api/datasets/{dataset_id}/annotations/{annotation_id}",...e}),ge=e=>(e.client??u).get({url:"/api/datasets/{dataset_id}/annotations/{annotation_id}",...e}),_e=e=>((e==null?void 0:e.client)??u).get({responseTransformer:ae,url:"/api/settings",...e}),je=e=>(e.client??u).get({url:"/api/classifiers/{classifier_id}/sample_history",...e}),Te=e=>((e==null?void 0:e.client)??u).get({url:"/api/embeddings2d/tsne",...e}),Se=e=>(e.client??u).get({url:"/api/datasets/{dataset_id}/metadata/info",...e}),we=e=>(e.client??u).post({url:"/api/datasets/{dataset_id}/selection",...e,headers:{"Content-Type":"application/json",...e.headers}});export{ce as a,ue as b,pe as c,u as d,be as e,he as f,Se as g,fe as h,le as i,de as j,ye as k,ge as l,Te as m,we as n,_e as o,ie as r,je as s,me as u};
