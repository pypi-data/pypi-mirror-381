import"./CWj6FrbW.js";import{p as H,f as G,n as W,a as O,c as V,r as B,t as K,g as h,d as dt,s as tt,ax as Et,u as Tt,a7 as ht,J as ot}from"./CH6P3X75.js";import{c as et,a as T,t as q,d as Vt}from"./RmD8FzRo.js";import{s as F,P as At}from"./CCx7Ho51.js";import{s as gt,r as Q,p as at,b as rt,a as st}from"./DQXoLcsF.js";import{I as pt,Y as Nt,s as mt,c as yt,t as Rt,O as Pt,j as Bt,l as ct,$ as Yt,a3 as St,a4 as wt,a5 as zt,T as Mt,x as qt}from"./DQe_kdRt.js";import{i as xt}from"./DA6bFLPR.js";import{r as Ft,u as Ht,c as Ot}from"./CWPZrTTJ.js";import{s as ut}from"./DGTPl6Gk.js";import{f as Zt,a as Xt}from"./CR2upx_Q.js";import{o as jt}from"./DEgUu98i.js";import{s as it,p as lt,a as Gt,y as Kt}from"./D6r9vr07.js";function Wt(a,e){H(e,!0);let o=Q(e,["$$slots","$$events","$$legacy"]);pt(a,gt({name:"chevron-right"},()=>o,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(i,s)=>{var r=et(),d=G(r);F(d,()=>e.children??W),T(i,r)},$$slots:{default:!0}})),O()}function Ye(a,e){H(e,!0);let o=Q(e,["$$slots","$$events","$$legacy"]);pt(a,gt({name:"database"},()=>o,{iconNode:[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]],children:(i,s)=>{var r=et(),d=G(r);F(d,()=>e.children??W),T(i,r)},$$slots:{default:!0}})),O()}function qe(a,e){H(e,!0);let o=Q(e,["$$slots","$$events","$$legacy"]);pt(a,gt({name:"house"},()=>o,{iconNode:[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}]],children:(i,s)=>{var r=et(),d=G(r);F(d,()=>e.children??W),T(i,r)},$$slots:{default:!0}})),O()}function Qt(a,e){H(e,!0);let o=Q(e,["$$slots","$$events","$$legacy"]);pt(a,gt({name:"zoom-in"},()=>o,{iconNode:[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]],children:(i,s)=>{var r=et(),d=G(r);F(d,()=>e.children??W),T(i,r)},$$slots:{default:!0}})),O()}function Lt(a,e){H(e,!0);let o=Q(e,["$$slots","$$events","$$legacy"]);pt(a,gt({name:"zoom-out"},()=>o,{iconNode:[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]],children:(i,s)=>{var r=et(),d=G(r);F(d,()=>e.children??W),T(i,r)},$$slots:{default:!0}})),O()}function Ut(a){return new Nt([document.querySelectorAll(a)],[document.documentElement])}var Jt=q("<nav><!></nav>");function Fe(a,e){H(e,!0);let o=at(e,"ref",15),f=Q(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=Jt();let s;var r=V(i);F(r,()=>e.children??W),B(i),rt(i,d=>o(d),()=>o()),K(()=>s=mt(i,s,{class:e.class,"aria-label":"breadcrumb",...f})),T(a,i),O()}var $t=q("<li><!></li>");function He(a,e){H(e,!0);let o=at(e,"ref",15,null),f=Q(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=$t();let s;var r=V(i);F(r,()=>e.children??W),B(i),rt(i,d=>o(d),()=>o()),K(d=>s=mt(i,s,{class:d,...f}),[()=>yt("inline-flex items-center gap-1.5",e.class)]),T(a,i),O()}var te=q("<li><!></li>");function Oe(a,e){H(e,!0);let o=at(e,"ref",15,null),f=Q(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=te();let s;var r=V(i);{var d=m=>{var M=et(),I=G(M);F(I,()=>e.children??W),T(m,M)},x=m=>{Wt(m,{})};xt(r,m=>{e.children?m(d):m(x,!1)})}B(i),rt(i,m=>o(m),()=>o()),K(m=>s=mt(i,s,{role:"presentation","aria-hidden":"true",class:m,...f}),[()=>yt("[&>svg]:size-3.5",e.class)]),T(a,i),O()}var ee=q("<a><!></a>");function Xe(a,e){H(e,!0);let o=at(e,"ref",15,null),f=at(e,"href",3,void 0),i=Q(e,["$$slots","$$events","$$legacy","ref","class","href","child","children"]);const s=dt(()=>({class:yt("hover:text-foreground transition-colors",e.class),href:f(),...i})),r=Rt(),[d,x]=r;var m=et(),M=G(m);{var I=w=>{var b=et(),k=G(b);F(k,()=>e.child,()=>({props:h(s)})),T(w,b)},_=w=>{var b=ee();let k;var Z=V(b);F(Z,()=>e.children??W),B(b),rt(b,u=>o(u),()=>o()),K(u=>k=mt(b,k,{...u}),[()=>x({...h(s)},[{attribute_name:"href",lang_attribute_name:"hreflang"}])]),T(w,b)};xt(M,w=>{e.child?w(I):w(_,!1)})}T(a,m),O()}var ae=q("<ol><!></ol>");function je(a,e){H(e,!0);let o=at(e,"ref",15,null),f=Q(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=ae();let s;var r=V(i);F(r,()=>e.children??W),B(i),rt(i,d=>o(d),()=>o()),K(d=>s=mt(i,s,{class:d,...f}),[()=>yt("text-muted-foreground flex flex-wrap items-center gap-1.5 break-words text-sm sm:gap-2.5",e.class)]),T(a,i),O()}var ne=q("<span><!></span>");function Ge(a,e){H(e,!0);let o=at(e,"ref",15,null),f=Q(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=ne();let s;var r=V(i);F(r,()=>e.children??W),B(i),rt(i,d=>o(d),()=>o()),K(d=>s=mt(i,s,{role:"link","aria-disabled":"true","aria-current":"page",class:d,...f}),[()=>yt("text-foreground font-normal",e.class)]),T(a,i),O()}const Ke=a=>`${At}/sample/${a}`,We=({sampleId:a,datasetId:e})=>{const o=Ft({path:{sample_id:a,dataset_id:e}}),f=Ht(),i=Ot(o);return{refetch:()=>{f.invalidateQueries({queryKey:o.queryKey})},sample:i}};var oe=q('<span class="text-sm"> </span> <span class="break-all text-sm"> </span>',1),ie=q('<div class="grid grid-cols-[6rem_1fr] gap-y-3 text-diffuse-foreground"></div>'),re=q('<div class="flex items-start gap-3"><span class="truncate text-sm font-medium"> </span> <pre class="min-w-[8rem] flex-1 overflow-x-auto whitespace-pre-wrap rounded bg-muted p-2 text-sm"> </pre></div>'),se=q('<div class="flex items-start gap-3"><span class="truncate text-sm font-medium"> </span> <span class="min-w-[8rem] flex-1 break-all text-sm"> </span></div>'),le=q('<div class="space-y-3 text-diffuse-foreground"></div>'),ue=q("<!> <!>",1);function Qe(a,e){H(e,!0);const o=at(e,"showCustomMetadata",3,!0),f=dt(()=>[{id:"height",label:"Height:",value:Zt(e.sample.height)+"px"},{id:"width",label:"Width:",value:Zt(e.sample.width)+"px"},{id:"filename",label:"Filename:",value:e.sample.file_name},{id:"filepath",label:"Filepath:",value:e.sample.file_path_abs}]),i=dt(()=>{const m=[];if(e.sample.metadata_dict&&typeof e.sample.metadata_dict=="object"&&"data"in e.sample.metadata_dict){const M=e.sample.metadata_dict.data;M&&typeof M=="object"&&Object.entries(M).forEach(([I,_])=>{const w=Xt(_),b=typeof _=="object"&&_!==null&&!Array.isArray(_);m.push({id:`metadata_${I}`,label:`${I}:`,value:w,isComplex:b})})}return m});var s=ue(),r=G(s);Pt(r,{title:"Sample details",children:(m,M)=>{var I=ie();Bt(I,21,()=>h(f),({label:_,value:w,id:b})=>_,(_,w)=>{let b=()=>h(w).label,k=()=>h(w).value,Z=()=>h(w).id;var u=oe(),D=G(u),C=V(D,!0);B(D);var R=tt(D,2),Y=V(R,!0);B(R),K(()=>{ut(C,b()),ct(R,"data-testid",`sample-metadata-${Z()}`),ut(Y,k())}),T(_,u)}),B(I),T(m,I)}});var d=tt(r,2);{var x=m=>{Pt(m,{title:"Metadata",children:(M,I)=>{var _=le();Bt(_,21,()=>h(i),({label:w,value:b,id:k,isComplex:Z})=>w,(w,b)=>{let k=()=>h(b).label,Z=()=>h(b).value,u=()=>h(b).id,D=()=>h(b).isComplex;var C=et(),R=G(C);{var Y=S=>{var E=re(),A=V(E),L=V(A,!0);B(A);var nt=tt(A,2),ft=V(nt,!0);B(nt),B(E),K(()=>{ct(A,"title",k()),ut(L,k()),ut(ft,Z())}),T(S,E)},g=S=>{var E=se(),A=V(E),L=V(A,!0);B(A);var nt=tt(A,2),ft=V(nt,!0);B(nt),B(E),K(()=>{ct(A,"title",k()),ut(L,k()),ct(nt,"data-testid",`sample-metadata-${u()}`),ut(ft,Z())}),T(S,E)};xt(R,S=>{D()?S(Y):S(g,!1)})}T(w,C)}),B(_),T(M,_)}})};xt(d,m=>{o()&&h(i).length>0&&m(x)})}T(a,s),O()}var ce=1e-12;function Dt(a){return((a=Math.exp(a))+1/a)/2}function he(a){return((a=Math.exp(a))-1/a)/2}function de(a){return((a=Math.exp(2*a))-1)/(a+1)}const me=function a(e,o,f){function i(s,r){var d=s[0],x=s[1],m=s[2],M=r[0],I=r[1],_=r[2],w=M-d,b=I-x,k=w*w+b*b,Z,u;if(k<ce)u=Math.log(_/m)/e,Z=function(S){return[d+S*w,x+S*b,m*Math.exp(e*S*u)]};else{var D=Math.sqrt(k),C=(_*_-m*m+f*k)/(2*m*o*D),R=(_*_-m*m-f*k)/(2*_*o*D),Y=Math.log(Math.sqrt(C*C+1)-C),g=Math.log(Math.sqrt(R*R+1)-R);u=(g-Y)/e,Z=function(S){var E=S*u,A=Dt(Y),L=m/(o*D)*(A*de(e*E+Y)-he(Y));return[d+L*w,x+L*b,m*A/Dt(e*E+Y)]}}return Z.duration=u*1e3*e/Math.SQRT2,Z}return i.rho=function(s){var r=Math.max(.001,+s),d=r*r,x=d*d;return a(r,d,x)},i}(Math.SQRT2,2,4),_t=a=>()=>a;function fe(a,{sourceEvent:e,target:o,transform:f,dispatch:i}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:f,enumerable:!0,configurable:!0},_:{value:i}})}function kt(a){a.stopImmediatePropagation()}function vt(a){a.preventDefault(),a.stopImmediatePropagation()}function ve(a){return(!a.ctrlKey||a.type==="wheel")&&!a.button}function ge(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function It(){return this.__zoom||St}function pe(a){return-a.deltaY*(a.deltaMode===1?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function ye(){return navigator.maxTouchPoints||"ontouchstart"in this}function _e(a,e,o){var f=a.invertX(e[0][0])-o[0][0],i=a.invertX(e[1][0])-o[1][0],s=a.invertY(e[0][1])-o[0][1],r=a.invertY(e[1][1])-o[1][1];return a.translate(i>f?(f+i)/2:Math.min(0,f)||Math.max(0,i),r>s?(s+r)/2:Math.min(0,s)||Math.max(0,r))}function xe(){var a=ve,e=ge,o=_e,f=pe,i=ye,s=[0,1/0],r=[[-1/0,-1/0],[1/0,1/0]],d=250,x=me,m=Yt("start","zoom","end"),M,I,_,w=500,b=150,k=0,Z=10;function u(t){t.property("__zoom",It).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",L).filter(i).on("touchstart.zoom",nt).on("touchmove.zoom",ft).on("touchend.zoom touchcancel.zoom",Ct).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.transform=function(t,l,n,c){var v=t.selection?t.selection():t;v.property("__zoom",It),t!==v?Y(t,l,n,c):v.interrupt().each(function(){g(this,arguments).event(c).start().zoom(null,typeof l=="function"?l.apply(this,arguments):l).end()})},u.scaleBy=function(t,l,n,c){u.scaleTo(t,function(){var v=this.__zoom.k,p=typeof l=="function"?l.apply(this,arguments):l;return v*p},n,c)},u.scaleTo=function(t,l,n,c){u.transform(t,function(){var v=e.apply(this,arguments),p=this.__zoom,y=n==null?R(v):typeof n=="function"?n.apply(this,arguments):n,z=p.invert(y),P=typeof l=="function"?l.apply(this,arguments):l;return o(C(D(p,P),y,z),v,r)},n,c)},u.translateBy=function(t,l,n,c){u.transform(t,function(){return o(this.__zoom.translate(typeof l=="function"?l.apply(this,arguments):l,typeof n=="function"?n.apply(this,arguments):n),e.apply(this,arguments),r)},null,c)},u.translateTo=function(t,l,n,c,v){u.transform(t,function(){var p=e.apply(this,arguments),y=this.__zoom,z=c==null?R(p):typeof c=="function"?c.apply(this,arguments):c;return o(St.translate(z[0],z[1]).scale(y.k).translate(typeof l=="function"?-l.apply(this,arguments):-l,typeof n=="function"?-n.apply(this,arguments):-n),p,r)},c,v)};function D(t,l){return l=Math.max(s[0],Math.min(s[1],l)),l===t.k?t:new wt(l,t.x,t.y)}function C(t,l,n){var c=l[0]-n[0]*t.k,v=l[1]-n[1]*t.k;return c===t.x&&v===t.y?t:new wt(t.k,c,v)}function R(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function Y(t,l,n,c){t.on("start.zoom",function(){g(this,arguments).event(c).start()}).on("interrupt.zoom end.zoom",function(){g(this,arguments).event(c).end()}).tween("zoom",function(){var v=this,p=arguments,y=g(v,p).event(c),z=e.apply(v,p),P=n==null?R(z):typeof n=="function"?n.apply(v,p):n,U=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),N=v.__zoom,X=typeof l=="function"?l.apply(v,p):l,J=x(N.invert(P).concat(U/N.k),X.invert(P).concat(U/X.k));return function(j){if(j===1)j=X;else{var $=J(j),bt=U/$[2];j=new wt(bt,P[0]-$[0]*bt,P[1]-$[1]*bt)}y.zoom(null,j)}})}function g(t,l,n){return!n&&t.__zooming||new S(t,l)}function S(t,l){this.that=t,this.args=l,this.active=0,this.sourceEvent=null,this.extent=e.apply(t,l),this.taps=0}S.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,l){return this.mouse&&t!=="mouse"&&(this.mouse[1]=l.invert(this.mouse[0])),this.touch0&&t!=="touch"&&(this.touch0[1]=l.invert(this.touch0[0])),this.touch1&&t!=="touch"&&(this.touch1[1]=l.invert(this.touch1[0])),this.that.__zoom=l,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var l=it(this.that).datum();m.call(t,this.that,new fe(t,{sourceEvent:this.sourceEvent,target:u,transform:this.that.__zoom,dispatch:m}),l)}};function E(t,...l){if(!a.apply(this,arguments))return;var n=g(this,l).event(t),c=this.__zoom,v=Math.max(s[0],Math.min(s[1],c.k*Math.pow(2,f.apply(this,arguments)))),p=lt(t);if(n.wheel)(n.mouse[0][0]!==p[0]||n.mouse[0][1]!==p[1])&&(n.mouse[1]=c.invert(n.mouse[0]=p)),clearTimeout(n.wheel);else{if(c.k===v)return;n.mouse=[p,c.invert(p)],zt(this),n.start()}vt(t),n.wheel=setTimeout(y,b),n.zoom("mouse",o(C(D(c,v),n.mouse[0],n.mouse[1]),n.extent,r));function y(){n.wheel=null,n.end()}}function A(t,...l){if(_||!a.apply(this,arguments))return;var n=t.currentTarget,c=g(this,l,!0).event(t),v=it(t.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",U,!0),p=lt(t,n),y=t.clientX,z=t.clientY;Gt(t.view),kt(t),c.mouse=[p,this.__zoom.invert(p)],zt(this),c.start();function P(N){if(vt(N),!c.moved){var X=N.clientX-y,J=N.clientY-z;c.moved=X*X+J*J>k}c.event(N).zoom("mouse",o(C(c.that.__zoom,c.mouse[0]=lt(N,n),c.mouse[1]),c.extent,r))}function U(N){v.on("mousemove.zoom mouseup.zoom",null),Kt(N.view,c.moved),vt(N),c.event(N).end()}}function L(t,...l){if(a.apply(this,arguments)){var n=this.__zoom,c=lt(t.changedTouches?t.changedTouches[0]:t,this),v=n.invert(c),p=n.k*(t.shiftKey?.5:2),y=o(C(D(n,p),c,v),e.apply(this,l),r);vt(t),d>0?it(this).transition().duration(d).call(Y,y,c,t):it(this).call(u.transform,y,c,t)}}function nt(t,...l){if(a.apply(this,arguments)){var n=t.touches,c=n.length,v=g(this,l,t.changedTouches.length===c).event(t),p,y,z,P;for(kt(t),y=0;y<c;++y)z=n[y],P=lt(z,this),P=[P,this.__zoom.invert(P),z.identifier],v.touch0?!v.touch1&&v.touch0[2]!==P[2]&&(v.touch1=P,v.taps=0):(v.touch0=P,p=!0,v.taps=1+!!M);M&&(M=clearTimeout(M)),p&&(v.taps<2&&(I=P[0],M=setTimeout(function(){M=null},w)),zt(this),v.start())}}function ft(t,...l){if(this.__zooming){var n=g(this,l).event(t),c=t.changedTouches,v=c.length,p,y,z,P;for(vt(t),p=0;p<v;++p)y=c[p],z=lt(y,this),n.touch0&&n.touch0[2]===y.identifier?n.touch0[0]=z:n.touch1&&n.touch1[2]===y.identifier&&(n.touch1[0]=z);if(y=n.that.__zoom,n.touch1){var U=n.touch0[0],N=n.touch0[1],X=n.touch1[0],J=n.touch1[1],j=(j=X[0]-U[0])*j+(j=X[1]-U[1])*j,$=($=J[0]-N[0])*$+($=J[1]-N[1])*$;y=D(y,Math.sqrt(j/$)),z=[(U[0]+X[0])/2,(U[1]+X[1])/2],P=[(N[0]+J[0])/2,(N[1]+J[1])/2]}else if(n.touch0)z=n.touch0[0],P=n.touch0[1];else return;n.zoom("touch",o(C(y,z,P),n.extent,r))}}function Ct(t,...l){if(this.__zooming){var n=g(this,l).event(t),c=t.changedTouches,v=c.length,p,y;for(kt(t),_&&clearTimeout(_),_=setTimeout(function(){_=null},w),p=0;p<v;++p)y=c[p],n.touch0&&n.touch0[2]===y.identifier?delete n.touch0:n.touch1&&n.touch1[2]===y.identifier&&delete n.touch1;if(n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0)n.touch0[1]=this.__zoom.invert(n.touch0[0]);else if(n.end(),n.taps===2&&(y=lt(y,this),Math.hypot(I[0]-y[0],I[1]-y[1])<Z)){var z=it(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return u.wheelDelta=function(t){return arguments.length?(f=typeof t=="function"?t:_t(+t),u):f},u.filter=function(t){return arguments.length?(a=typeof t=="function"?t:_t(!!t),u):a},u.touchable=function(t){return arguments.length?(i=typeof t=="function"?t:_t(!!t),u):i},u.extent=function(t){return arguments.length?(e=typeof t=="function"?t:_t([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),u):e},u.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],u):[s[0],s[1]]},u.translateExtent=function(t){return arguments.length?(r[0][0]=+t[0][0],r[1][0]=+t[1][0],r[0][1]=+t[0][1],r[1][1]=+t[1][1],u):[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},u.constrain=function(t){return arguments.length?(o=t,u):o},u.duration=function(t){return arguments.length?(d=+t,u):d},u.interpolate=function(t){return arguments.length?(x=t,u):x},u.on=function(){var t=m.on.apply(m,arguments);return t===m?u:t},u.clickDistance=function(t){return arguments.length?(k=(t=+t)*t,u):Math.sqrt(k)},u.tapDistance=function(t){return arguments.length?(Z=+t,u):Z},u}function be(a,e){let o=a.scaleIndependentXForm;o||(o=a.scaleIndependentXForm=e.createSVGTransform(),a.transform.baseVal.appendItem(o));const f=a.parentNode;if(f){const i=f.getScreenCTM();if(i){const s=i.inverse().multiply(e.getScreenCTM());s.e=s.f=0,o.setMatrix(s)}}}var we=q('<div class="pointer-events-auto absolute bottom-0 left-1 z-20 flex select-none items-center gap-1 rounded-lg bg-muted bg-opacity-80 shadow-md backdrop-blur-sm"><!> <div class="h-6 w-px bg-white bg-opacity-20"></div> <!> <div class="w-[32px] text-center text-sm text-muted-foreground" data-testid="zoom-level"> </div> <!></div>');function ze(a,e){var o=we(),f=V(o);Mt(f,{variant:"ghost","data-testid":"zoom-reset",size:"sm",get onclick(){return e.onZoomReset},get disabled(){return e.isResetDisabled},children:(x,m)=>{Et();var M=Vt("Reset");T(x,M)},$$slots:{default:!0}});var i=tt(f,4);Mt(i,{title:"zoom out",variant:"ghost",size:"icon","data-testid":"zoom-out",get onclick(){return e.onZoomOut},get disabled(){return e.isZoominDisabled},children:(x,m)=>{Lt(x,{class:"h-4 w-4"})},$$slots:{default:!0}});var s=tt(i,2),r=V(s);B(s);var d=tt(s,2);Mt(d,{title:"zoom in",variant:"ghost",size:"icon","data-testid":"zoom-in",get onclick(){return e.onZoomIn},get disabled(){return e.isZoomoutDisabled},children:(x,m)=>{Qt(x,{class:"h-4 w-4"})},$$slots:{default:!0}}),B(o),K(x=>ut(r,`${x??""}%`),[()=>Math.round(e.scale*100)]),T(a,o)}var Me=q('<div class="relative flex h-full w-full select-none items-center justify-center"><!> <svg class="z-10 h-full w-full cursor-grab" preserveAspectRatio="xMidYMid meet"><g><!></g></svg> <svg class="pointer-events-none absolute inset-0" preserveAspectRatio="xMidYMid meet"></svg></div>');function Le(a,e){H(e,!0);let o=ht(null),f=ht(null);const i=at(e,"cursor",3,"auto");let s=ht(800),r=ht(600);Tt(()=>{if(!h(o))return;ot(s,st(h(o).clientWidth)),ot(r,st(h(o).clientHeight));const g=new ResizeObserver(()=>{h(o)&&(ot(s,st(h(o).clientWidth)),ot(r,st(h(o).clientHeight)))});return g.observe(h(o)),()=>g.disconnect()});const d=10,x=dt(()=>{const g={x:0,y:0,width:e.width,height:e.height};if(e.boundingBox){k();const{x:S,y:E,width:A,height:L}=e.boundingBox;return{x:Math.round(Math.max(0,S-d)),y:Math.round(Math.max(0,E-d)),width:Math.round(Math.min(e.width-S,A+d*2)),height:Math.round(Math.min(e.height-E,L+d*2))}}return g});let m=ht(st({k:1,x:0,y:0}));const M=dt(()=>{if(!h(o))return 1;const g=h(s)/e.width,S=h(r)/e.height,E=Math.min(g,S);return h(m).k*E}),I=dt(()=>{if(!h(o))return 1;let g=h(M);if(e.boundingBox){const S=e.width/h(x).width,E=e.height/h(x).height,A=Math.min(S,E);g*=A}return g});let _=ht(null);const w=()=>{h(o)&&(ot(_,st(xe().on("zoom",g=>{ot(m,st(g.transform))}).filter(g=>(!g.ctrlKey||g.type==="wheel")&&!g.button&&!(g.type==="mousedown"&&g.button===2)).wheelDelta(g=>-g.deltaY*.002))),it(h(o)).call(h(_)).on("dblclick.zoom",null))},b=g=>{if(!h(o)||!h(_))return;const S=g?1.5:.75;it(h(o)).transition().duration(300).call(h(_).scaleBy,S)},k=()=>{!h(o)||!h(_)||it(h(o)).transition().duration(300).call(h(_).transform,St)};jt(()=>{w()}),Tt(()=>{h(m).k,Ut(".unscaled").each(function(){be(this,h(f))})});var Z=Me(),u=V(Z);ze(u,{get scale(){return h(M)},onZoomIn:()=>b(!0),onZoomOut:()=>b(!1),onZoomReset:k});var D=tt(u,2),C=V(D),R=V(C);F(R,()=>e.zoomableContent,()=>({scale:h(I)})),B(C),B(D),rt(D,g=>ot(o,g),()=>h(o));var Y=tt(D,2);ct(Y,"viewBox","0 0 1024 768"),rt(Y,g=>ot(f,g),()=>h(f)),B(Z),K(()=>{ct(D,"viewBox",`${h(x).x} ${h(x).y} ${h(x).width} ${h(x).height}`),ct(C,"transform",`translate(${h(m).x}, ${h(m).y}) scale(${h(m).k})`),qt(C,`cursor: ${i()};`)}),T(a,Z),O()}export{Fe as B,Ye as D,qe as H,Qe as S,Le as Z,je as a,He as b,Xe as c,Oe as d,Ge as e,Ke as g,We as u};
