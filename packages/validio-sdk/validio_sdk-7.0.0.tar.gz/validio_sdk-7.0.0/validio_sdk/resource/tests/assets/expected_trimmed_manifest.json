{
    "metadata": {
        "dbt_schema_version": "https://schemas.getdbt.com/dbt/manifest/v10.json",
        "dbt_version": "1.6.6",
        "generated_at": "2023-11-02T10:20:58.781848Z",
        "invocation_id": "7570f9ea-655e-4812-9030-877c32d42dc6",
        "project_name": "jaffle_shop",
        "project_id": "06e5b98c2db46f8a72cc4f66410e9b3b",
        "user_id": "4101328f-3260-4043-a7c9-7fd5e7f8866f",
        "adapter_type": "postgres"
    },
    "nodes": {
        "model.jaffle_shop.stg_customers": {
            "package_name": "jaffle_shop",
            "database": "validio",
            "schema": "public",
            "name": "stg_customers",
            "description": "This model cleans up customer data",
            "created_at": 1698766941.3774924,
            "relation_name": "\"validio\".\"public\".\"stg_customers\"",
            "resource_type": "model",
            "depends_on": {
                "macros": [],
                "nodes": []
            },
            "original_file_path": "models/stg_customers.sql",
            "unique_id": "model.jaffle_shop.stg_customers",
            "config": {
                "enabled": true,
                "alias": null,
                "schema": null,
                "database": null,
                "tags": [],
                "meta": {},
                "group": null,
                "materialized": "table",
                "incremental_strategy": null,
                "persist_docs": {},
                "quoting": {},
                "column_types": {},
                "full_refresh": null,
                "unique_key": null,
                "on_schema_change": "ignore",
                "on_configuration_change": "apply",
                "grants": {},
                "packages": [],
                "docs": {
                    "show": true,
                    "node_color": null
                },
                "contract": {
                    "enforced": false
                },
                "post-hook": [],
                "pre-hook": []
            },
            "tags": [],
            "raw_code": "select \n    id as customer_id,\n    first_name,\n    last_name\n\nfrom jaffle_shop.customers",
            "columns": {
                "customer_id": {
                    "name": "customer_id",
                    "description": "Primary key"
                }
            }
        },
        "model.jaffle_shop.customers": {
            "package_name": "jaffle_shop",
            "database": "validio",
            "schema": "public",
            "name": "customers",
            "description": "One record per customer",
            "created_at": 1698766941.379115,
            "relation_name": "\"validio\".\"public\".\"customers\"",
            "resource_type": "model",
            "depends_on": {
                "nodes": [
                    "model.jaffle_shop.stg_customers",
                    "model.jaffle_shop.stg_orders"
                ]
            },
            "original_file_path": "models/customers.sql",
            "unique_id": "model.jaffle_shop.customers",
            "config": {
                "enabled": true,
                "alias": null,
                "schema": null,
                "database": null,
                "tags": [],
                "meta": {},
                "group": null,
                "materialized": "view",
                "incremental_strategy": null,
                "persist_docs": {},
                "quoting": {},
                "column_types": {},
                "full_refresh": null,
                "unique_key": null,
                "on_schema_change": "ignore",
                "on_configuration_change": "apply",
                "grants": {},
                "packages": [],
                "docs": {
                    "show": true,
                    "node_color": null
                },
                "contract": {
                    "enforced": false
                },
                "post-hook": [],
                "pre-hook": []
            },
            "tags": [],
            "raw_code": "{{\n    config(\n        materialized='view'\n    )\n\n}}\n\nwith customers as (\n    select * from {{ ref('stg_customers')}}\n\n),\n\norders as (\n    select * from {{ ref('stg_orders')}}\n),\n\ncustomer_orders as (\n    select \n        customer_id,\n        min(order_date) as first_order_date,\n        max(order_date) as most_recent_order_date,\n        count(order_id) as number_of_orders\n    from orders\n\n    group by 1\n),\n\n\nfinal as (\n    select\n        customers.customer_id,\n        customers.first_name,\n        customer_orders.first_order_date,\n        customer_orders.most_recent_order_date,\n        coalesce(customer_orders.number_of_orders, 0) as number_of_orders\n\n    from customers \n\n    left join customer_orders using (customer_id)\n)\n\nselect * from final",
            "columns": {
                "customer_id": {
                    "name": "customer_id",
                    "description": "Primary key"
                },
                "first_order_date": {
                    "name": "first_order_date",
                    "description": "NULL when a customer has not yet placed an order."
                }
            }
        },
        "test.jaffle_shop.unique_stg_customers_customer_id.c7614daada": {
            "package_name": "jaffle_shop",
            "database": "validio",
            "schema": "public_dbt_test__audit",
            "name": "unique_stg_customers_customer_id",
            "created_at": 1698766941.3892796,
            "relation_name": null,
            "compiled_code": "\n    \n    \n\nselect\n    customer_id as unique_field,\n    count(*) as n_records\n\nfrom \"validio\".\"public\".\"stg_customers\"\nwhere customer_id is not null\ngroup by customer_id\nhaving count(*) > 1\n\n\n",
            "resource_type": "test",
            "depends_on": {
                "nodes": [
                    "model.jaffle_shop.stg_customers"
                ]
            },
            "original_file_path": "models/schema.yml",
            "unique_id": "test.jaffle_shop.unique_stg_customers_customer_id.c7614daada",
            "config": {
                "enabled": true,
                "alias": null,
                "schema": "dbt_test__audit",
                "database": null,
                "tags": [],
                "meta": {},
                "group": null,
                "materialized": "test",
                "severity": "ERROR",
                "store_failures": null,
                "where": null,
                "limit": null,
                "fail_calc": "count(*)",
                "warn_if": "!= 0",
                "error_if": "!= 0"
            },
            "tags": [],
            "raw_code": "{{ test_unique(**_dbt_generic_test_kwargs) }}",
            "column_name": "customer_id",
            "attached_node": "model.jaffle_shop.stg_customers",
            "test_metadata": {
                "name": "unique",
                "kwargs": {
                    "column_name": "customer_id",
                    "model": "{{ get_where_subquery(ref('stg_customers')) }}"
                },
                "namespace": null
            }
        },
        "test.jaffle_shop.not_null_stg_customers_customer_id.e2cfb1f9aa": {
            "package_name": "jaffle_shop",
            "database": "validio",
            "schema": "public_dbt_test__audit",
            "name": "not_null_stg_customers_customer_id",
            "created_at": 1698766941.3908398,
            "relation_name": null,
            "compiled_code": "\n    \n    \n\n\n\nselect customer_id\nfrom \"validio\".\"public\".\"stg_customers\"\nwhere customer_id is null\n\n\n",
            "resource_type": "test",
            "depends_on": {
                "nodes": [
                    "model.jaffle_shop.stg_customers"
                ]
            },
            "original_file_path": "models/schema.yml",
            "unique_id": "test.jaffle_shop.not_null_stg_customers_customer_id.e2cfb1f9aa",
            "config": {
                "enabled": true,
                "alias": null,
                "schema": "dbt_test__audit",
                "database": null,
                "tags": [],
                "meta": {},
                "group": null,
                "materialized": "test",
                "severity": "ERROR",
                "store_failures": null,
                "where": null,
                "limit": null,
                "fail_calc": "count(*)",
                "warn_if": "!= 0",
                "error_if": "!= 0"
            },
            "tags": [],
            "raw_code": "{{ test_not_null(**_dbt_generic_test_kwargs) }}",
            "column_name": "customer_id",
            "attached_node": "model.jaffle_shop.stg_customers",
            "test_metadata": {
                "name": "not_null",
                "kwargs": {
                    "column_name": "customer_id",
                    "model": "{{ get_where_subquery(ref('stg_customers')) }}"
                },
                "namespace": null
            }
        },
        "test.jaffle_shop.unique_customers_customer_id.c5af1ff4b1": {
            "package_name": "jaffle_shop",
            "database": "validio",
            "schema": "public_dbt_test__audit",
            "name": "unique_customers_customer_id",
            "created_at": 1698766941.4101796,
            "relation_name": null,
            "compiled_code": "\n    \n    \n\nselect\n    customer_id as unique_field,\n    count(*) as n_records\n\nfrom \"validio\".\"public\".\"customers\"\nwhere customer_id is not null\ngroup by customer_id\nhaving count(*) > 1\n\n\n",
            "resource_type": "test",
            "depends_on": {
                "nodes": [
                    "model.jaffle_shop.customers"
                ]
            },
            "original_file_path": "models/schema.yml",
            "unique_id": "test.jaffle_shop.unique_customers_customer_id.c5af1ff4b1",
            "config": {
                "enabled": true,
                "alias": null,
                "schema": "dbt_test__audit",
                "database": null,
                "tags": [],
                "meta": {},
                "group": null,
                "materialized": "test",
                "severity": "ERROR",
                "store_failures": null,
                "where": null,
                "limit": null,
                "fail_calc": "count(*)",
                "warn_if": "!= 0",
                "error_if": "!= 0"
            },
            "tags": [],
            "raw_code": "{{ test_unique(**_dbt_generic_test_kwargs) }}",
            "column_name": "customer_id",
            "attached_node": "model.jaffle_shop.customers",
            "test_metadata": {
                "name": "unique",
                "kwargs": {
                    "column_name": "customer_id",
                    "model": "{{ get_where_subquery(ref('customers')) }}"
                },
                "namespace": null
            }
        },
        "test.jaffle_shop.not_null_customers_customer_id.5c9bf9911d": {
            "package_name": "jaffle_shop",
            "database": "validio",
            "schema": "public_dbt_test__audit",
            "name": "not_null_customers_customer_id",
            "created_at": 1698766941.4116528,
            "relation_name": null,
            "compiled_code": "\n    \n    \n\n\n\nselect customer_id\nfrom \"validio\".\"public\".\"customers\"\nwhere customer_id is null\n\n\n",
            "resource_type": "test",
            "depends_on": {
                "nodes": [
                    "model.jaffle_shop.customers"
                ]
            },
            "original_file_path": "models/schema.yml",
            "unique_id": "test.jaffle_shop.not_null_customers_customer_id.5c9bf9911d",
            "config": {
                "enabled": true,
                "alias": null,
                "schema": "dbt_test__audit",
                "database": null,
                "tags": [],
                "meta": {},
                "group": null,
                "materialized": "test",
                "severity": "ERROR",
                "store_failures": null,
                "where": null,
                "limit": null,
                "fail_calc": "count(*)",
                "warn_if": "!= 0",
                "error_if": "!= 0"
            },
            "tags": [],
            "raw_code": "{{ test_not_null(**_dbt_generic_test_kwargs) }}",
            "column_name": "customer_id",
            "attached_node": "model.jaffle_shop.customers",
            "test_metadata": {
                "name": "not_null",
                "kwargs": {
                    "column_name": "customer_id",
                    "model": "{{ get_where_subquery(ref('customers')) }}"
                },
                "namespace": null
            }
        },
        "model.jaffle_shop.stg_orders": {
            "package_name": "jaffle_shop",
            "database": "validio",
            "schema": "public",
            "name": "stg_orders",
            "description": "This model cleans up order data",
            "created_at": 1698920458.849195,
            "relation_name": "\"validio\".\"public\".\"stg_orders\"",
            "resource_type": "model",
            "depends_on": {
                "macros": [],
                "nodes": []
            },
            "original_file_path": "models/stg_orders.sql",
            "unique_id": "model.jaffle_shop.stg_orders",
            "config": {
                "enabled": true,
                "alias": null,
                "schema": null,
                "database": null,
                "tags": [],
                "meta": {},
                "group": null,
                "materialized": "table",
                "incremental_strategy": null,
                "persist_docs": {},
                "quoting": {},
                "column_types": {},
                "full_refresh": null,
                "unique_key": null,
                "on_schema_change": "ignore",
                "on_configuration_change": "apply",
                "grants": {},
                "packages": [],
                "docs": {
                    "show": true,
                    "node_color": null
                },
                "contract": {
                    "enforced": false
                },
                "post-hook": [],
                "pre-hook": []
            },
            "tags": [],
            "raw_code": "select\n    id as order_id,\n    user_id as customer_id,\n    order_date,\n    status\n\nfrom jaffle_shop.orders",
            "columns": {
                "order_id": {
                    "name": "order_id",
                    "description": "Primary key"
                },
                "status": {
                    "name": "status",
                    "description": ""
                },
                "customer_id": {
                    "name": "customer_id",
                    "description": ""
                }
            }
        },
        "test.jaffle_shop.unique_stg_orders_order_id.e3b841c71a": {
            "package_name": "jaffle_shop",
            "database": "validio",
            "schema": "public_dbt_test__audit",
            "name": "unique_stg_orders_order_id",
            "created_at": 1698920458.8592143,
            "relation_name": null,
            "compiled_code": "\n    \n    \n\nselect\n    order_id as unique_field,\n    count(*) as n_records\n\nfrom \"validio\".\"public\".\"stg_orders\"\nwhere order_id is not null\ngroup by order_id\nhaving count(*) > 1\n\n\n",
            "resource_type": "test",
            "depends_on": {
                "nodes": [
                    "model.jaffle_shop.stg_orders"
                ]
            },
            "original_file_path": "models/schema.yml",
            "unique_id": "test.jaffle_shop.unique_stg_orders_order_id.e3b841c71a",
            "config": {
                "enabled": true,
                "alias": null,
                "schema": "dbt_test__audit",
                "database": null,
                "tags": [],
                "meta": {},
                "group": null,
                "materialized": "test",
                "severity": "ERROR",
                "store_failures": null,
                "where": null,
                "limit": null,
                "fail_calc": "count(*)",
                "warn_if": "!= 0",
                "error_if": "!= 0"
            },
            "tags": [],
            "raw_code": "{{ test_unique(**_dbt_generic_test_kwargs) }}",
            "column_name": "order_id",
            "attached_node": "model.jaffle_shop.stg_orders",
            "test_metadata": {
                "name": "unique",
                "kwargs": {
                    "column_name": "order_id",
                    "model": "{{ get_where_subquery(ref('stg_orders')) }}"
                },
                "namespace": null
            }
        },
        "test.jaffle_shop.not_null_stg_orders_order_id.81cfe2fe64": {
            "package_name": "jaffle_shop",
            "database": "validio",
            "schema": "public_dbt_test__audit",
            "name": "not_null_stg_orders_order_id",
            "created_at": 1698920458.8607004,
            "relation_name": null,
            "compiled_code": "\n    \n    \n\n\n\nselect order_id\nfrom \"validio\".\"public\".\"stg_orders\"\nwhere order_id is null\n\n\n",
            "resource_type": "test",
            "depends_on": {
                "nodes": [
                    "model.jaffle_shop.stg_orders"
                ]
            },
            "original_file_path": "models/schema.yml",
            "unique_id": "test.jaffle_shop.not_null_stg_orders_order_id.81cfe2fe64",
            "config": {
                "enabled": true,
                "alias": null,
                "schema": "dbt_test__audit",
                "database": null,
                "tags": [],
                "meta": {},
                "group": null,
                "materialized": "test",
                "severity": "ERROR",
                "store_failures": null,
                "where": null,
                "limit": null,
                "fail_calc": "count(*)",
                "warn_if": "!= 0",
                "error_if": "!= 0"
            },
            "tags": [],
            "raw_code": "{{ test_not_null(**_dbt_generic_test_kwargs) }}",
            "column_name": "order_id",
            "attached_node": "model.jaffle_shop.stg_orders",
            "test_metadata": {
                "name": "not_null",
                "kwargs": {
                    "column_name": "order_id",
                    "model": "{{ get_where_subquery(ref('stg_orders')) }}"
                },
                "namespace": null
            }
        },
        "test.jaffle_shop.accepted_values_stg_orders_status__placed__shipped__completed__returned.7511f2d274": {
            "package_name": "jaffle_shop",
            "database": "validio",
            "schema": "public_dbt_test__audit",
            "name": "accepted_values_stg_orders_status__placed__shipped__completed__returned",
            "created_at": 1698920458.8621902,
            "relation_name": null,
            "compiled_code": "\n    \n    \n\nwith all_values as (\n\n    select\n        status as value_field,\n        count(*) as n_records\n\n    from \"validio\".\"public\".\"stg_orders\"\n    group by status\n\n)\n\nselect *\nfrom all_values\nwhere value_field not in (\n    'placed','shipped','completed','returned'\n)\n\n\n",
            "resource_type": "test",
            "depends_on": {
                "nodes": [
                    "model.jaffle_shop.stg_orders"
                ]
            },
            "original_file_path": "models/schema.yml",
            "unique_id": "test.jaffle_shop.accepted_values_stg_orders_status__placed__shipped__completed__returned.7511f2d274",
            "config": {
                "enabled": true,
                "alias": "accepted_values_stg_orders_7c9e0be389dac14a09b2140966f0792f",
                "schema": "dbt_test__audit",
                "database": null,
                "tags": [],
                "meta": {},
                "group": null,
                "materialized": "test",
                "severity": "ERROR",
                "store_failures": null,
                "where": null,
                "limit": null,
                "fail_calc": "count(*)",
                "warn_if": "!= 0",
                "error_if": "!= 0"
            },
            "tags": [],
            "raw_code": "{{ test_accepted_values(**_dbt_generic_test_kwargs) }}{{ config(alias=\"accepted_values_stg_orders_7c9e0be389dac14a09b2140966f0792f\") }}",
            "column_name": "status",
            "attached_node": "model.jaffle_shop.stg_orders",
            "test_metadata": {
                "name": "accepted_values",
                "kwargs": {
                    "values": [
                        "placed",
                        "shipped",
                        "completed",
                        "returned"
                    ],
                    "column_name": "status",
                    "model": "{{ get_where_subquery(ref('stg_orders')) }}"
                },
                "namespace": null
            }
        },
        "test.jaffle_shop.not_null_stg_orders_customer_id.af79d5e4b5": {
            "package_name": "jaffle_shop",
            "database": "validio",
            "schema": "public_dbt_test__audit",
            "name": "not_null_stg_orders_customer_id",
            "created_at": 1698920458.8708389,
            "relation_name": null,
            "compiled_code": "\n    \n    \n\n\n\nselect customer_id\nfrom \"validio\".\"public\".\"stg_orders\"\nwhere customer_id is null\n\n\n",
            "resource_type": "test",
            "depends_on": {
                "nodes": [
                    "model.jaffle_shop.stg_orders"
                ]
            },
            "original_file_path": "models/schema.yml",
            "unique_id": "test.jaffle_shop.not_null_stg_orders_customer_id.af79d5e4b5",
            "config": {
                "enabled": true,
                "alias": null,
                "schema": "dbt_test__audit",
                "database": null,
                "tags": [],
                "meta": {},
                "group": null,
                "materialized": "test",
                "severity": "ERROR",
                "store_failures": null,
                "where": null,
                "limit": null,
                "fail_calc": "count(*)",
                "warn_if": "!= 0",
                "error_if": "!= 0"
            },
            "tags": [],
            "raw_code": "{{ test_not_null(**_dbt_generic_test_kwargs) }}",
            "column_name": "customer_id",
            "attached_node": "model.jaffle_shop.stg_orders",
            "test_metadata": {
                "name": "not_null",
                "kwargs": {
                    "column_name": "customer_id",
                    "model": "{{ get_where_subquery(ref('stg_orders')) }}"
                },
                "namespace": null
            }
        },
        "test.jaffle_shop.relationships_stg_orders_customer_id__customer_id__ref_stg_customers_.430bf21500": {
            "package_name": "jaffle_shop",
            "database": "validio",
            "schema": "public_dbt_test__audit",
            "name": "relationships_stg_orders_customer_id__customer_id__ref_stg_customers_",
            "created_at": 1698920458.8723497,
            "relation_name": null,
            "compiled_code": "\n    \n    \n\nwith child as (\n    select customer_id as from_field\n    from \"validio\".\"public\".\"stg_orders\"\n    where customer_id is not null\n),\n\nparent as (\n    select customer_id as to_field\n    from \"validio\".\"public\".\"stg_customers\"\n)\n\nselect\n    from_field\n\nfrom child\nleft join parent\n    on child.from_field = parent.to_field\n\nwhere parent.to_field is null\n\n\n",
            "resource_type": "test",
            "depends_on": {
                "nodes": [
                    "model.jaffle_shop.stg_customers",
                    "model.jaffle_shop.stg_orders"
                ]
            },
            "original_file_path": "models/schema.yml",
            "unique_id": "test.jaffle_shop.relationships_stg_orders_customer_id__customer_id__ref_stg_customers_.430bf21500",
            "config": {
                "enabled": true,
                "alias": "relationships_stg_orders_96411fe0c89b49c3f4da955dfd358ba0",
                "schema": "dbt_test__audit",
                "database": null,
                "tags": [],
                "meta": {},
                "group": null,
                "materialized": "test",
                "severity": "ERROR",
                "store_failures": null,
                "where": null,
                "limit": null,
                "fail_calc": "count(*)",
                "warn_if": "!= 0",
                "error_if": "!= 0"
            },
            "tags": [],
            "raw_code": "{{ test_relationships(**_dbt_generic_test_kwargs) }}{{ config(alias=\"relationships_stg_orders_96411fe0c89b49c3f4da955dfd358ba0\") }}",
            "column_name": "customer_id",
            "attached_node": "model.jaffle_shop.stg_orders",
            "test_metadata": {
                "name": "relationships",
                "kwargs": {
                    "to": "ref('stg_customers')",
                    "field": "customer_id",
                    "column_name": "customer_id",
                    "model": "{{ get_where_subquery(ref('stg_orders')) }}"
                },
                "namespace": null
            }
        }
    },
    "sources": {}
}