{
  "sanitization": {
    "min_width": 80,
    "min_height": 80,
    "max_width": 3200,
    "max_height": 3200,
    "min_aspect_ratio": 0.15,
    "max_aspect_ratio": 6.667,
    "allowed_formats": [
      ".jpeg",
      ".jpg",
      ".png",
      ".webp",
      ".tiff",
      ".tif",
      ".bmp",
      ".gif"
    ],
    "max_file_size_mb": 10.0,
    "check_corruption": true
  },
  "rotation_correction": {
    "threshold": 0.75
  },
  "build_lsh_index": {
    "num_hash_tables": 4,
    "num_hyperplanes_per_table": 18,
    "chunk_size": 100000
  },
  "deduplication": {
    "distance_metric": "cosine",
    "chunk_size": 100000,
    "report_threshold": null
  },
  "apply_deduplication": {
    "selection_strategy": "random",
    "threshold": null
  },
  "filter_by_examples": {
    "distance_metric": "cosine",
    "chunk_size": 100000,
    "report_threshold": null
  },
  "aesthetic_filter": {
    "report_threshold": null
  },
  "nsfw_filter": {
    "report_threshold": null
  },
  "apply_score_filter": {},
  "hierarchical_kmeans": {
    "max_iters": 50,
    "tol": 0.0001,
    "distance_metric": "cosine",
    "init_method": "kmeans++",
    "method": "centers",
    "n_resamples": 10
  },
  "hierarchical_sampling": {
    "sampling_strategy": "random",
    "allocation_strategy": "water-filling"
  },
  "prune_missing_samples": {
    "chunk_size": 20000
  }
}
