# BasicLossCutManager - 기본 손절매 전략

## 작성자 정보

- 작성자: 프로그램 동산
- 유튜브: https://youtube.com/@programgarden

## 개요

`BasicLossCutManager`는 해외 주식 투자에서 손실을 제한하기 위한 자동 손절매 전략입니다. 이 전략은 보유 주식의 손익률이 설정된 임계값 이하로 떨어지면 자동으로 매도 주문을 생성하여 추가 손실을 방지합니다.

## 전략의 목적

해외 주식 투자는 환율 변동, 시장 변동성 등 다양한 리스크 요인이 존재합니다. 이러한 환경에서 투자자는 감정적인 판단으로 인해 손실을 키우는 경우가 많습니다. `BasicLossCutManager`는 이러한 문제를 해결하기 위해 다음과 같은 목적으로 개발되었습니다:

- **손실 제한**: 미리 설정된 손절매 비율에 도달하면 자동으로 포지션을 청산하여 손실을 최소화합니다.
- **감정 배제**: 자동화된 시스템으로 인간의 감정적 판단을 배제하고 체계적인 리스크 관리를 수행합니다.
- **리스크 관리**: 투자 포트폴리오의 전체적인 리스크를 관리하고, 장기적인 투자 전략을 유지합니다.

## 주요 기능

### 파라미터
- `losscut` (float, 기본값: -5): 손절매를 실행할 손익률 임계값 (%)입니다. 음수 값으로 설정하며, 예를 들어 -5는 손익률이 -5% 이하일 때 손절매를 수행합니다.

### 동작 방식
1. 보유 주식 목록을 순회합니다.
2. 각 주식의 현재 손익률(`RnlRat`)을 확인합니다.
3. 손익률이 설정된 `losscut` 값 이하인 경우:
   - 매도 주문을 생성합니다.
   - 주문 유형: 시장가 매도 (`ord_ptn_code = "01"`)
   - 수량: 매도가능 수량 전체 (`AstkSellAbleQty`)
   - 가격 유형: 시장가 (`ordprc_ptn_code = "03"`)
4. 생성된 주문 목록을 반환합니다.

## 사용 예시

```python
from programgarden_community.overseas_stock.new_sell_conditions.loss_cut import BasicLossCutManager

# 손절매 비율을 -3%로 설정
loss_cut_manager = BasicLossCutManager(losscut=-3)

# 전략 실행
results = await loss_cut_manager.execute()
```

## 주의사항

- 이 전략은 과거 데이터나 시뮬레이션에서 테스트된 후 실제 투자에 적용해야 합니다.
- 손절매 비율은 투자자의 리스크 성향과 시장 상황에 따라 조정해야 합니다.
- 자동화된 전략이므로, 실행 전에 충분한 검토와 테스트를 권장합니다.
