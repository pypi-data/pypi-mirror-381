###############################################################
# NOTE: THIS FILE IS GENERATED BY GENERATE_API.PY. DO NOT EDIT!
###############################################################
from typing import Optional, List
import google.protobuf as protobuf
# API imports
from ...base import Action, Datatype
from ....dsl.compiler.registry import register_action
from ..native import run_unary, run_streaming, payload_from_action
# Protobuf imports
from ....protocol.services import report_service_pb2
from ....protocol.services import report_service_pb2_grpc
# Type imports
from ...datatypes import report as params
from ...datatypes import common as common

# Static stub object to be set at file import time
STUB: report_service_pb2_grpc.ReportStub = None

'''Used to report messages to the Swarm Controller server or to other collaborative vehicles'''

@register_action
class SendReport(Action):
    '''Send a report to the server, or to an intended recipient'''
    report: params.ReportMessage
    

    async def execute(self):
        req = report_service_pb2.SendReportRequest()
        ParseDict(payload_from_action(self), req)
        metadata = [
            ('identity', 'internal')
        ]
        return await run_unary(STUB.SendReport, req, metadata=metadata)

