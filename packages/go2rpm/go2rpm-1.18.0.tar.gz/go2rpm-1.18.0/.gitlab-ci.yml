---
default:
  image: "registry.fedoraproject.org/fedora:latest"
  before_script:
    - >-
      sudo dnf install
      --setopt=install_weak_deps=0 -y
      askalono-cli
      git-core
      python3.9
      python3.10-devel
      python3.11-devel
      python3.12-devel
      python3.13-devel
      python3.14-devel
      nox

test:
  script:
    - "sudo dnf install --setopt=install_weak_deps=0 -y rpmdevtools"
    - "nox -e covtest"
  artifacts:
    paths:
      - htmlcov/
    reports:
      coverage_report:
        coverage_format: cobertura
        path: coverage.xml

formatters:
  script:
    - "nox -e formatters -- --check"

codeqa:
  script:
    - "nox -e codeqa"
