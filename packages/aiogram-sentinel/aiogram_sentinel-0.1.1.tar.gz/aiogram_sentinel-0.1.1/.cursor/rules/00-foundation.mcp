---
description: Project scope, public API, and immovable guardrails for aiogram-sentinel
globs: "**/*"
alwaysApply: true
---

# Foundation

## Scope (DO)
- Edge hygiene library for aiogram v3:
  - Middlewares: Debouncing, Throttling(notifier)
  - Backends: memory & redis via SentinelConfig (with redis_prefix)
  - Setup helper: Sentinel.setup(dp, cfg, router=None)
  - Decorators: @rate_limit, @debounce

## Non-Goals (DON’T)
- No DB session lifecycle, domain services, i18n copy, logging policy, or user-facing strings.
- No blocking I/O or heavy network calls in middlewares/router.
- No expansion beyond aiogram v3 middlewares + router + storage.

## Public API (STABLE)
SentinelConfig, Sentinel.setup, build_infra,
DebounceMiddleware, ThrottlingMiddleware,
rate_limit, debounce,
RateLimiterBackend, DebounceBackend,
InfraBundle, __version__.

Changing any above ⇒ update README + bump semver.
