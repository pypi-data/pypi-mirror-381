import{x as E,y as H,Z as W,bU as j,aw as G,N as Z,bV as K,Y as Q,i as L,ab as I,ag as X,ap as J,ac as F,j as Y,bW as p,L as $,C as q,bl as N,b as v,az as R,aH as ee,R as te,Q as ne,bX as ae,a5 as ie,bY as oe,bZ as re,b_ as se,at as le,an as A,aq as ce,b$ as ue,a as b,bt as de,aF as me,a3 as ve,aa as fe,z as ge,D as ye,E as Se,G as be,H as ke,c0 as he,c1 as Ve,b4 as we}from"./index-ra7TBoRz.js";import{V as Te,u as Pe}from"./layout-CCTswPrU.js";import{b as D,a as Ie}from"./VBtn-B-NuY1a5.js";function Ce(e){const l=I(e());let a=-1;function i(){clearInterval(a)}function o(){i(),A(()=>l.value=e())}function c(d){const k=d?getComputedStyle(d):{transitionDuration:.2},f=parseFloat(k.transitionDuration)*1e3||200;if(i(),l.value<=0)return;const g=performance.now();a=window.setInterval(()=>{const h=performance.now()-g+f;l.value=Math.max(e()-h,0),l.value<=0&&i()},f)}return le(i),{clear:i,time:l,start:c,reset:o}}const xe=H({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...re({location:"bottom"}),...oe(),...ie(),...ae(),...ne(),...te(se({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy","stickToTarget"])},"VSnackbar"),ze=E()({name:"VSnackbar",props:xe(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const i=W(e,"modelValue"),{positionClasses:o}=j(e),{scopeId:c}=G(),{themeClasses:d}=Z(e),{colorClasses:k,colorStyles:f,variantClasses:g}=K(e),{roundedClasses:h}=Q(e),u=Ce(()=>Number(e.timeout)),_=L(),V=L(),w=I(!1),T=I(0),C=L(),y=X(Te,void 0);J(()=>!!y,()=>{const s=Pe();ce(()=>{C.value=s.mainStyles.value})}),F(i,S),F(()=>e.timeout,S),Y(()=>{i.value&&S()});let P=-1;function S(){u.reset(),window.clearTimeout(P);const s=Number(e.timeout);if(!i.value||s===-1)return;const x=p(V.value);u.start(x),P=window.setTimeout(()=>{i.value=!1},s)}function M(){u.reset(),window.clearTimeout(P)}function z(){w.value=!0,M()}function t(){w.value=!1,S()}function n(s){T.value=s.touches[0].clientY}function m(s){Math.abs(T.value-s.changedTouches[0].clientY)>50&&(i.value=!1)}function r(){w.value&&t()}const O=$(()=>e.location.split(" ").reduce((s,x)=>(s[`v-snackbar--${x}`]=!0,s),{}));return q(()=>{const s=N.filterProps(e),x=!!(a.default||a.text||e.text);return v(N,R({ref:_,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},O.value,o.value,e.class],style:[C.value,e.style]},s,{modelValue:i.value,"onUpdate:modelValue":U=>i.value=U,contentProps:R({class:["v-snackbar__wrapper",d.value,k.value,h.value,g.value],style:[f.value],onPointerenter:z,onPointerleave:t},s.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:n,onTouchend:m,onAfterLeave:r},c),{default:()=>[ue(!1,"v-snackbar"),e.timer&&!w.value&&b("div",{key:"timer",class:"v-snackbar__timer"},[v(de,{ref:V,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,modelValue:u.time.value},null)]),x&&b("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[a.text?.()??e.text,a.default?.()]),a.actions&&v(me,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[b("div",{class:"v-snackbar__actions"},[a.actions({isActive:i})])]})],activator:a.activator})}),ee({},_)}}),Ae=H({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...ke(),...be()},"VInfiniteScroll"),B=he({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,l)=>!0},setup(e,l){let{emit:a}=l;const{intersectionRef:i,isIntersecting:o}=Ve();return F(o,async c=>{a("intersect",e.side,c)}),q(()=>b("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:i},[we("Â ")])),{}}}),Fe=E()({name:"VInfiniteScroll",props:Ae(),emits:{load:e=>!0},setup(e,l){let{slots:a,emit:i}=l;const o=L(),c=I("ok"),d=I("ok"),k=$(()=>ve(e.margin)),f=I(!1);function g(t){if(!o.value)return;const n=e.direction==="vertical"?"scrollTop":"scrollLeft";o.value[n]=t}function h(){if(!o.value)return 0;const t=e.direction==="vertical"?"scrollTop":"scrollLeft";return o.value[t]}function u(){if(!o.value)return 0;const t=e.direction==="vertical"?"scrollHeight":"scrollWidth";return o.value[t]}function _(){if(!o.value)return 0;const t=e.direction==="vertical"?"clientHeight":"clientWidth";return o.value[t]}Y(()=>{o.value&&(e.side==="start"?g(u()):e.side==="both"&&g(u()/2-_()/2))});function V(t,n){t==="start"?c.value=n:t==="end"?d.value=n:t==="both"&&(c.value=n,d.value=n)}function w(t){return t==="start"?c.value:d.value}let T=0;function C(t,n){f.value=n,f.value&&y(t)}function y(t){if(e.mode!=="manual"&&!f.value)return;const n=w(t);if(!o.value||["empty","loading"].includes(n))return;T=u(),V(t,"loading");function m(r){V(t,r),A(()=>{r==="empty"||r==="error"||(r==="ok"&&t==="start"&&g(u()-T+h()),e.mode!=="manual"&&A(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{y(t)})})})}))})}i("load",{side:t,done:m})}const{t:P}=fe();function S(t,n){if(e.side!==t&&e.side!=="both")return;const m=()=>y(t),r={side:t,props:{onClick:m,color:e.color}};return n==="error"?a.error?.(r):n==="empty"?a.empty?.(r)??b("div",null,[P(e.emptyText)]):e.mode==="manual"?n==="loading"?a.loading?.(r)??v(D,{indeterminate:!0,color:e.color},null):a["load-more"]?.(r)??v(Ie,{variant:"outlined",color:e.color,onClick:m},{default:()=>[P(e.loadMoreText)]}):a.loading?.(r)??v(D,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:M}=ge(e);q(()=>{const t=e.tag,n=e.side==="start"||e.side==="both",m=e.side==="end"||e.side==="both",r=e.mode==="intersect";return v(t,{ref:o,class:Se(["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":n,"v-infinite-scroll--end":m}]),style:ye(M.value)},{default:()=>[b("div",{class:"v-infinite-scroll__side"},[S("start",c.value)]),n&&r&&v(B,{key:"start",side:"start",onIntersect:C,rootMargin:k.value},null),a.default?.(),m&&r&&v(B,{key:"end",side:"end",onIntersect:C,rootMargin:k.value},null),b("div",{class:"v-infinite-scroll__side"},[S("end",d.value)])]})});function z(t){const n=t??e.side;V(n,"ok"),A(()=>{g(u()-T+h()),e.mode!=="manual"&&A(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{n==="both"?(y("start"),y("end")):y(n)})})})})})}return{reset:z}}});export{ze as V,Fe as a};
