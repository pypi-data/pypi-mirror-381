import{V as oe,m as xe}from"./VTextField-B-G8xtcN.js";import{ab as me,ac as le,aa as he,c2 as pe,L,a0 as q,cP as ue,y as G,x as ye,i as z,cw as Ae,Z,cu as Ie,cz as ae,C as Ve,b as s,az as C,aH as ge,ce as De,R as Te,cN as Be,cB as ie,cQ as se,an as Fe,cR as Le,cb as _e,cC as Re,a as g,g as ne,F as Y,aV as Ee,h as Me,V as re,cS as ze,p as He,cE as Ne,bF as Oe,cF as Ue,bs as $e,aF as ke,b4 as Ke,cT as qe,cU as je,c3 as We,D as ce,E as de,cL as Qe,cV as Ye}from"./index-ra7TBoRz.js";import{c as Ze,a as Ge,u as Je,V as fe,h as ve,i as Xe,m as et}from"./VInput-CEXId6XX.js";import{V as tt}from"./VVirtualScroll-CDzAG2cn.js";import{b as at}from"./VBtn-B-NuY1a5.js";function lt(e,I){const l=me(!1);let d;function r(n){cancelAnimationFrame(d),l.value=!0,d=requestAnimationFrame(()=>{d=requestAnimationFrame(()=>{l.value=!1})})}async function p(){await new Promise(n=>requestAnimationFrame(n)),await new Promise(n=>requestAnimationFrame(n)),await new Promise(n=>requestAnimationFrame(n)),await new Promise(n=>{if(l.value){const y=le(l,()=>{y(),n()})}else n()})}async function P(n){if(n.key==="Tab"&&I.value?.focus(),!["PageDown","PageUp","Home","End"].includes(n.key))return;const y=e.value?.$el;if(!y)return;(n.key==="Home"||n.key==="End")&&y.scrollTo({top:n.key==="Home"?0:y.scrollHeight,behavior:"smooth"}),await p();const _=y.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(n.key==="PageDown"||n.key==="Home"){const a=y.getBoundingClientRect().top;for(const k of _)if(k.getBoundingClientRect().top>=a){k.focus();break}}else{const a=y.getBoundingClientRect().bottom;for(const k of[..._].reverse())if(k.getBoundingClientRect().bottom<=a){k.focus();break}}}return{onScrollPassive:r,onKeydown:P}}const nt=G({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function ot(e,I){const{t:l}=he(),d=pe(),r=L(()=>`menu-${d}`),p=q(()=>ue(I)),P=q(()=>r.value),n=q(()=>l(ue(I)?e.closeText:e.openText));return{menuId:r,ariaExpanded:p,ariaControls:P,ariaLabel:n}}const ut=G({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:_e,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...nt(),...Le({itemChildren:!1})},"Select"),it=G({...ut(),...Te(xe({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...De({transition:{component:Be}})},"VSelect"),mt=ye()({name:"VSelect",props:it(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,I){let{slots:l}=I;const{t:d}=he(),r=z(),p=z(),P=z(),{items:n,transformIn:y,transformOut:_}=Ae(e),a=Z(e,"modelValue",[],t=>y(t===null?[null]:Ie(t)),t=>{const c=_(t);return e.multiple?c:c[0]??null}),k=L(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:a.value.length),R=Ze(e),J=L(()=>a.value.map(t=>t.value)),S=me(!1);let b="",E=-1,j;const V=L(()=>e.hideSelected?n.value.filter(t=>!a.value.some(c=>(e.valueComparator||ae)(c,t))):n.value),H=L(()=>e.hideNoData&&!V.value.length||R.isReadonly.value||R.isDisabled.value),N=Z(e,"menu"),f=L({get:()=>N.value,set:t=>{N.value&&!t&&p.value?.Î¨openChildren.size||t&&H.value||(N.value=t)}}),{menuId:O,ariaExpanded:X,ariaControls:ee,ariaLabel:W}=ot(e,f),te=L(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),x=z(),U=lt(x,r);function T(t){e.openOnClear&&(f.value=!0)}function $(){H.value||(f.value=!f.value)}function w(t){ie(t)&&Q(t)}function Q(t){if(!t.key||R.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(f.value=!0),["Escape","Tab"].includes(t.key)&&(f.value=!1),t.key==="Home"?x.value?.focus("first"):t.key==="End"&&x.value?.focus("last");const c=1e3;if(!ie(t))return;const v=performance.now();v-j>c&&(b="",E=-1),b+=t.key.toLowerCase(),j=v;const B=V.value;function D(){let i=o();return i||b.at(-1)===b.at(-2)&&(b=b.slice(0,-1),i=o(),i)||(E=-1,i=o(),i)?i:(b=t.key.toLowerCase(),o())}function o(){for(let i=E+1;i<B.length;i++){const A=B[i];if(A.title.toLowerCase().startsWith(b))return[A,i]}}const u=D();if(!u)return;const[m,F]=u;E=F,x.value?.focus(F),e.multiple||(a.value=[m])}function M(t){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const v=a.value.findIndex(D=>(e.valueComparator||ae)(D.value,t.value)),B=c??!~v;if(~v){const D=B?[...a.value,t]:[...a.value];D.splice(v,1),a.value=D}else B&&(a.value=[...a.value,t])}else{const v=c!==!1;a.value=v?[t]:[],Fe(()=>{f.value=!1})}}function K(t){x.value?.$el.contains(t.relatedTarget)||(f.value=!1)}function be(){e.eager&&P.value?.calculateVisibleItems()}function we(){S.value&&r.value?.focus()}function Ce(t){S.value=!0}function Pe(t){if(t==null)a.value=[];else if(se(r.value,":autofill")||se(r.value,":-webkit-autofill")){const c=n.value.find(v=>v.title===t);c&&M(c)}else r.value&&(r.value.value="")}return le(f,()=>{if(!e.hideSelected&&f.value&&a.value.length){const t=V.value.findIndex(c=>a.value.some(v=>(e.valueComparator||ae)(v.value,c.value)));Re&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{t>=0&&P.value?.scrollToIndex(t)})}}),le(n,(t,c)=>{f.value||S.value&&e.hideNoData&&!c.length&&t.length&&(f.value=!0)}),Ve(()=>{const t=!!(e.chips||l.chip),c=!!(!e.hideNoData||V.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),v=a.value.length>0,B=oe.filterProps(e),D=v||!S.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return s(oe,C({ref:r},B,{modelValue:a.value.map(o=>o.props.value).join(", "),"onUpdate:modelValue":Pe,focused:S.value,"onUpdate:focused":o=>S.value=o,validationValue:a.externalValue,counterValue:k.value,dirty:v,class:["v-select",{"v-select--active-menu":f.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":a.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:D,"onClick:clear":T,"onMousedown:control":$,onBlur:K,onKeydown:Q,"aria-expanded":X.value,"aria-controls":ee.value,"aria-label":W.value,title:W.value}),{...l,default:()=>g(Y,null,[s(Ee,C({id:O.value,ref:p,modelValue:f.value,"onUpdate:modelValue":o=>f.value=o,activator:"parent",contentClass:"v-select__content",disabled:H.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:be,onAfterLeave:we},te.value),{default:()=>[c&&s(Me,C({ref:x,selected:J.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:o=>o.preventDefault(),onKeydown:w,onFocusin:Ce,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},U,e.listProps),{default:()=>[l["prepend-item"]?.(),!V.value.length&&!e.hideNoData&&(l["no-data"]?.()??s(re,{key:"no-data",title:d(e.noDataText)},null)),s(tt,{ref:P,renderless:!0,items:V.value,itemKey:"value"},{default:o=>{let{item:u,index:m,itemRef:F}=o;const i=ze(u.props),A=C(u.props,{ref:F,key:u.value,onClick:()=>M(u,null)});return u.type==="divider"?l.divider?.({props:u.raw,index:m})??s(He,C(u.props,{key:`divider-${m}`}),null):u.type==="subheader"?l.subheader?.({props:u.raw,index:m})??s(Ne,C(u.props,{key:`subheader-${m}`}),null):l.item?.({item:u,index:m,props:A})??s(re,C(A,{role:"option"}),{prepend:h=>{let{isSelected:Se}=h;return g(Y,null,[e.multiple&&!e.hideSelected?s(Ge,{key:u.value,modelValue:Se,ripple:!1,tabindex:"-1"},null):void 0,i.prependAvatar&&s(Oe,{image:i.prependAvatar},null),i.prependIcon&&s(ne,{icon:i.prependIcon},null)])}})}}),l["append-item"]?.()]})]}),a.value.map((o,u)=>{function m(h){h.stopPropagation(),h.preventDefault(),M(o,!1)}const F={"onClick:close":m,onKeydown(h){h.key!=="Enter"&&h.key!==" "||(h.preventDefault(),h.stopPropagation(),m(h))},onMousedown(h){h.preventDefault(),h.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},i=t?!!l.chip:!!l.selection,A=i?Ue(t?l.chip({item:o,index:u,props:F}):l.selection({item:o,index:u})):void 0;if(!(i&&!A))return g("div",{key:o.value,class:"v-select__selection"},[t?l.chip?s(ke,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:o.title}}},{default:()=>[A]}):s($e,C({key:"chip",closable:e.closableChips,size:"small",text:o.title,disabled:o.props.disabled},F),null):A??g("span",{class:"v-select__selection-text"},[o.title,e.multiple&&u<a.value.length-1&&g("span",{class:"v-select__selection-comma"},[Ke(",")])])])})]),"append-inner":function(){for(var o=arguments.length,u=new Array(o),m=0;m<o;m++)u[m]=arguments[m];return g(Y,null,[l["append-inner"]?.(...u),e.menuIcon?s(ne,{class:"v-select__menu-icon",color:r.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),ge({isFocused:S,menu:f,select:M},r)}}),st=G({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...et(),...Xe()},"VSwitch"),ht=ye()({name:"VSwitch",inheritAttrs:!1,props:st(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,I){let{attrs:l,slots:d}=I;const r=Z(e,"indeterminate"),p=Z(e,"modelValue"),{loaderClasses:P}=qe(e),{isFocused:n,focus:y,blur:_}=Je(e),a=z(),k=z(),R=je&&window.matchMedia("(forced-colors: active)").matches,J=q(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),S=pe(),b=q(()=>e.id||`switch-${S}`);function E(){r.value&&(r.value=!1)}function j(V){V.stopPropagation(),V.preventDefault(),a.value?.input?.click()}return Ve(()=>{const[V,H]=We(l),N=fe.filterProps(e),f=ve.filterProps(e);return s(fe,C({ref:k,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},P.value,e.class]},V,N,{modelValue:p.value,"onUpdate:modelValue":O=>p.value=O,id:b.value,focused:n.value,style:e.style}),{...d,default:O=>{let{id:X,messagesId:ee,isDisabled:W,isReadonly:te,isValid:x}=O;const U={model:p,isValid:x};return s(ve,C({ref:a},f,{modelValue:p.value,"onUpdate:modelValue":[T=>p.value=T,E],id:X.value,"aria-describedby":ee.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:W.value,readonly:te.value,onFocus:y,onBlur:_},H),{...d,default:T=>{let{backgroundColorClasses:$,backgroundColorStyles:w}=T;return g("div",{class:de(["v-switch__track",R?void 0:$.value]),style:ce(w.value),onClick:j},[d["track-true"]&&g("div",{key:"prepend",class:"v-switch__track-true"},[d["track-true"](U)]),d["track-false"]&&g("div",{key:"append",class:"v-switch__track-false"},[d["track-false"](U)])])},input:T=>{let{inputNode:$,icon:w,backgroundColorClasses:Q,backgroundColorStyles:M}=T;return g(Y,null,[$,g("div",{class:de(["v-switch__thumb",{"v-switch__thumb--filled":w||e.loading},e.inset||R?void 0:Q.value]),style:ce(e.inset?void 0:M.value)},[d.thumb?s(ke,{defaults:{VIcon:{icon:w,size:"x-small"}}},{default:()=>[d.thumb({...U,icon:w})]}):s(Qe,null,{default:()=>[e.loading?s(Ye,{name:"v-switch",active:!0,color:x.value===!1?void 0:J.value},{default:K=>d.loader?d.loader(K):s(at,{active:K.isActive,color:K.color,indeterminate:!0,size:"16",width:"2"},null)}):w&&s(ne,{key:String(w),icon:w,size:"x-small"},null)]})])])}})}})}),ge({},k)}});export{ht as V,mt as a,lt as b,ut as m,ot as u};
