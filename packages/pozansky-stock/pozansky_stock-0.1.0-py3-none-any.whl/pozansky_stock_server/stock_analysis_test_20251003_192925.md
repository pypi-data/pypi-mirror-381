# 股票分析MCP测试报告
**测试时间**: 2025-10-03 19:29:25
**生成文件**: stock_analysis_test_20251003_192925.md


## 🎯 测试概览

本次测试全面验证了股票分析MCP工具的以下功能：

### ✅ 已测试功能
1. **股票搜索功能** - 支持通过公司名称搜索股票代码
2. **多周期分析** - 支持1小时、4小时、日线、周线分析
3. **K线形态识别** - 自动识别常见K线形态
4. **技术指标计算** - RSI、MACD、布林带、移动平均线等
5. **错误处理** - 无效输入和错误情况的处理
6. **多市场支持** - 美股、港股、A股、指数等
7. **特定股票分析** - 支持用户指定股票代码进行分析

### 📊 测试覆盖
- **股票数量**: 20+ 只热门股票
- **时间周期**: 4种不同周期
- **市场类型**: 美股、港股、A股、指数、加密货币
- **技术指标**: 5+ 种常用指标
- **K线形态**: 10+ 种常见形态

### 🔧 技术特点
- 基于雅虎财经API的实时数据
- 改进的K线形态识别算法
- 多维度技术分析
- 友好的中文输出界面
- 冲突形态检测和过滤

### ⚠️ 已知限制
- 中文搜索功能受限（雅虎财经API限制）
- 部分技术指标需要TA-Lib支持
- 数据获取依赖网络连接

### 📈 使用建议
1. 对于短线交易，建议使用1小时或4小时线
2. 对于中长期投资，建议使用日线或周线
3. 结合多个技术指标进行综合判断
4. K线形态需要结合趋势背景分析
5. 特定股票分析可用于监控投资组合

### 🔍 如何添加自定义股票
在 `test_specific_stocks()` 函数中的 `specific_stocks` 列表中添加：
```python
("股票代码", "时间周期", "描述")

# 股票分析MCP测试报告

**测试执行时间**: 2025-10-03 19:29:25

## 特定股票分析测试


### 苹果日线 (AAPL)

📈 **AAPL 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 257.13
📊 涨跌幅: +1.68 (+0.66%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:29:34

ℹ️ 未检测到明显的单K线形态

ℹ️ 未检测到明显的双K线形态

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 255.42, 10日: 254.23, 20日: 244.84)
  🔄 RSI: 70.1 (超买)
  📉 MACD: 金叉看涨 (MACD: 7.3875, 信号: 6.7978)
  📊 布林带: 上轨附近，可能超买

### 微软日线 (MSFT)

📈 **MSFT 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 515.74
📊 涨跌幅: -3.97 (-0.76%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:29:34

ℹ️ 未检测到明显的单K线形态

ℹ️ 未检测到明显的双K线形态

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 515.89, 10日: 513.83, 20日: 509.20)
  🔄 RSI: 54.8 (正常)
  📉 MACD: 金叉看涨 (MACD: 2.0912, 信号: 1.0443)
  📊 布林带: 中轨附近

### 特斯拉日线 (TSLA)

📈 **TSLA 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 436.00
📊 涨跌幅: -23.46 (-5.11%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:29:35

🕯️ **单K线形态:**
  🔴 光头光脚阴线 (置信度: 0.8)
     📝 没有上下影线，表示强烈的看跌信号

🕯️ **双K线形态:**
  🔴 看跌吞没 (置信度: 0.8)
     📝 阴线完全吞没前一根阳线，强烈看跌反转信号
  🔴 乌云盖顶 (置信度: 0.7)
     📝 第二根阴线开盘高于前一根高点，收盘低于前一根中点

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 444.76, 10日: 437.61, 20日: 410.36)
  🔄 RSI: 62.2 (正常)
  📉 MACD: 金叉看涨 (MACD: 26.4125, 信号: 25.5470)
  📊 布林带: 中轨附近

### 英伟达日线 (NVDA)

📈 **NVDA 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 188.89
📊 涨跌幅: +1.65 (+0.88%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:29:35

ℹ️ 未检测到明显的单K线形态

ℹ️ 未检测到明显的双K线形态

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 184.55, 10日: 181.61, 20日: 177.68)
  🔄 RSI: 65.6 (正常)
  📉 MACD: 金叉看涨 (MACD: 2.8221, 信号: 1.5165)
  📊 布林带: 上轨附近，可能超买

### 亚马逊日线 (AMZN)

📈 **AMZN 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 222.41
📊 涨跌幅: +1.78 (+0.81%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:29:36

ℹ️ 未检测到明显的单K线形态

ℹ️ 未检测到明显的双K线形态

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 看跌 (5日: 220.91, 10日: 222.27, 20日: 227.30)
  🔄 RSI: 45.1 (正常)
  📉 MACD: 死叉看跌 (MACD: -2.2427, 信号: -1.3516)
  📊 布林带: 中轨附近

### 阿里巴巴日线 (BABA)

📈 **BABA 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 189.34
📊 涨跌幅: +6.56 (+3.59%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:29:36

ℹ️ 未检测到明显的单K线形态

ℹ️ 未检测到明显的双K线形态

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 180.53, 10日: 174.47, 20日: 163.60)
  🔄 RSI: 79.0 (超买)
  📉 MACD: 金叉看涨 (MACD: 13.4722, 信号: 12.1205)
  📊 布林带: 上轨附近，可能超买

### 腾讯日线 (0700.HK)

📈 **0700.HK 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 673.50
📊 涨跌幅: -3.00 (-0.44%)
📊 数据点数: 66
🕒 分析时间: 2025-10-03 19:29:37

ℹ️ 未检测到明显的单K线形态

🕯️ **双K线形态:**
  🔴 孕线看跌 (置信度: 0.6)
     📝 小实体在大实体内，出现在上涨趋势中可能反转

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 663.40, 10日: 653.45, 20日: 644.15)
  🔄 RSI: 70.5 (超买)
  📉 MACD: 金叉看涨 (MACD: 18.7770, 信号: 17.9915)
  📊 布林带: 上轨附近，可能超买

### 上证指数日线 (000001.SS)

📈 **000001.SS 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 3882.78
📊 涨跌幅: +20.25 (+0.52%)
📊 数据点数: 67
🕒 分析时间: 2025-10-03 19:29:37

ℹ️ 未检测到明显的单K线形态

ℹ️ 未检测到明显的双K线形态

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 3856.07, 10日: 3845.89, 20日: 3838.27)
  🔄 RSI: 61.4 (正常)
  📉 MACD: 死叉看跌 (MACD: 27.1739, 信号: 32.0516)
  📊 布林带: 上轨附近，可能超买

### 标普500日线 (^GSPC)

📈 **^GSPC 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 6715.35
📊 涨跌幅: +4.15 (+0.06%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:29:38

ℹ️ 未检测到明显的单K线形态

ℹ️ 未检测到明显的双K线形态

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 6683.98, 10日: 6667.76, 20日: 6616.25)
  🔄 RSI: 69.0 (正常)
  📉 MACD: 金叉看涨 (MACD: 62.3015, 信号: 60.2729)
  📊 布林带: 上轨附近，可能超买

### 恒生指数日线 (^HSI)

📈 **^HSI 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 27140.92
📊 涨跌幅: -146.20 (-0.54%)
📊 数据点数: 66
🕒 分析时间: 2025-10-03 19:29:38

ℹ️ 未检测到明显的单K线形态

🕯️ **双K线形态:**
  🔴 孕线看跌 (置信度: 0.6)
     📝 小实体在大实体内，出现在上涨趋势中可能反转

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 26806.94, 10日: 26608.64, 20日: 26404.47)
  🔄 RSI: 64.3 (正常)
  📉 MACD: 金叉看涨 (MACD: 387.7812, 信号: 344.5062)
  📊 布林带: 上轨附近，可能超买

### 特定股票分析汇总

| 股票代码 | 描述 | 当前价格 | 涨跌幅 | RSI | K线形态 |
| --- | --- | --- | --- | --- | --- |
| AAPL | 苹果日线 | 257.13 | +1.68 (+0.66%) | 70.1 | 无 |
| MSFT | 微软日线 | 515.74 | -3.97 (-0.76%) | 54.8 | 无 |
| TSLA | 特斯拉日线 | 436.00 | -23.46 (-5.11%) | 62.2 | 无 |
| NVDA | 英伟达日线 | 188.89 | +1.65 (+0.88%) | 65.6 | 无 |
| AMZN | 亚马逊日线 | 222.41 | +1.78 (+0.81%) | 45.1 | 无 |
| BABA | 阿里巴巴日线 | 189.34 | +6.56 (+3.59%) | 79.0 | 无 |
| 0700.HK | 腾讯日线 | 673.50 | -3.00 (-0.44%) | 70.5 | 无 |
| 000001.SS | 上证指数日线 | 3882.78 | +20.25 (+0.52%) | 61.4 | 无 |
| ^GSPC | 标普500日线 | 6715.35 | +4.15 (+0.06%) | 69.0 | 无 |
| ^HSI | 恒生指数日线 | 27140.92 | -146.20 (-0.54%) | 64.3 | 无 |

## 自定义股票分析测试


### 自定义分析: 三星电子 (005930.KS)

📈 **005930.KS 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 89750.00
📊 涨跌幅: +3750.00 (+4.36%)
📊 数据点数: 65
🕒 分析时间: 2025-10-03 19:29:39

ℹ️ 未检测到明显的单K线形态

ℹ️ 未检测到明显的双K线形态

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 85430.00, 10日: 84715.00, 20日: 79192.50)
  🔄 RSI: 78.6 (超买)
  📉 MACD: 金叉看涨 (MACD: 4351.0043, 信号: 3711.2728)
  📊 布林带: 上轨附近，可能超买

### 自定义分析: 丰田汽车 (7203.T)

📈 **7203.T 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 2839.50
📊 涨跌幅: +34.50 (+1.23%)
📊 数据点数: 63
🕒 分析时间: 2025-10-03 19:29:40

ℹ️ 未检测到明显的单K线形态

ℹ️ 未检测到明显的双K线形态

🕯️ **三K线形态:**
  🟢 早晨之星 (置信度: 0.8)
     📝 三根K线组合，出现在下跌趋势底部，强烈看涨反转信号

📊 **技术指标:**
  📈 移动平均线: 看跌 (5日: 2837.10, 10日: 2893.30, 20日: 2911.70)
  🔄 RSI: 45.0 (正常)
  📉 MACD: 死叉看跌 (MACD: -0.8636, 信号: 20.1670)
  📊 布林带: 下轨附近，可能超卖

### 自定义分析: 软银集团 (9984.T)

📈 **9984.T 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 19980.00
📊 涨跌幅: +685.00 (+3.55%)
📊 数据点数: 63
🕒 分析时间: 2025-10-03 19:29:40

ℹ️ 未检测到明显的单K线形态

ℹ️ 未检测到明显的双K线形态

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 19048.00, 10日: 18897.00, 20日: 17904.50)
  🔄 RSI: 68.1 (正常)
  📉 MACD: 死叉看跌 (MACD: 1141.0799, 信号: 1144.0398)
  📊 布林带: 上轨附近，可能超买

### 自定义分析: 比特币 (BTC-USD)

📈 **BTC-USD 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 120387.10
📊 涨跌幅: -294.16 (-0.24%)
📊 数据点数: 93
🕒 分析时间: 2025-10-03 19:29:41

🕯️ **单K线形态:**
  🔴 上吊线 (置信度: 0.7)
     📝 出现在上涨趋势中，长下影线表示卖方力量增强

🕯️ **双K线形态:**
  🔴 孕线看跌 (置信度: 0.6)
     📝 小实体在大实体内，出现在上涨趋势中可能反转

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 震荡 (5日: 117634.75, 10日: 114206.91, 20日: 114742.52)
  🔄 RSI: 65.5 (正常)
  📉 MACD: 金叉看涨 (MACD: 1073.3820, 信号: 208.4341)
  📊 布林带: 上轨附近，可能超买

### 自定义分析: 以太坊 (ETH-USD)

📈 **ETH-USD 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 4482.71
📊 涨跌幅: -5.21 (-0.12%)
📊 数据点数: 93
🕒 分析时间: 2025-10-03 19:29:41

🕯️ **单K线形态:**
  🟡 十字线 (置信度: 0.7)
     📝 开盘收盘价接近，表示市场犹豫不决

ℹ️ 未检测到明显的双K线形态

ℹ️ 未检测到明显的三K线形态

📊 **技术指标:**
  📈 移动平均线: 震荡 (5日: 4337.01, 10日: 4190.29, 20日: 4324.92)
  🔄 RSI: 56.9 (正常)
  📉 MACD: 金叉看涨 (MACD: -13.5800, 信号: -40.1797)
  📊 布林带: 中轨附近

### 自定义股票分析汇总

| 股票代码 | 描述 | 当前价格 | 涨跌幅 | 状态 |
| --- | --- | --- | --- | --- |
| 005930.KS | 三星电子 | 89750.00 | +3750.00 (+4.36%) | ✅ 成功 |
| 7203.T | 丰田汽车 | 2839.50 | +34.50 (+1.23%) | ✅ 成功 |
| 9984.T | 软银集团 | 19980.00 | +685.00 (+3.55%) | ✅ 成功 |
| BTC-USD | 比特币 | 120387.10 | -294.16 (-0.24%) | ✅ 成功 |
| ETH-USD | 以太坊 | 4482.71 | -5.21 (-0.12%) | ✅ 成功 |

## 测试总结
