# 股票分析MCP测试报告
**测试时间**: 2025-10-03 18:59:08
**生成文件**: stock_analysis_test_ERROR.md


# 股票分析MCP测试报告

**测试执行时间**: 2025-10-03 18:59:08

## 搜索功能测试


### 测试搜索'Apple'

🔍 **搜索 'Apple' 的结果:**

1. **AAPL** - Apple Inc.
   交易所: NMS | 类型: EQUITY

2. **APLE** - Apple Hospitality REIT, Inc.
   交易所: NYQ | 类型: EQUITY

3. **AAPL.NE** - Apple Inc.
   交易所: NEO | 类型: EQUITY

4. **APC.F** - Apple Inc.
   交易所: FRA | 类型: EQUITY

5. **0P0001BL7Q.F** - Appletree Subordinated Debt Fund
   交易所: FRA | 类型: MUTUALFUND

6. **D90.F** - Apple International Co., Ltd.
   交易所: FRA | 类型: EQUITY

7. **48T.F** - Apple Hospitality REIT, Inc.
   交易所: FRA | 类型: EQUITY

💡 **使用示例:**
analyze_stock_price(symbol="AAPL", interval="1d")

### 测试搜索'Microsoft'

🔍 **搜索 'Microsoft' 的结果:**

1. **MSFT** - Microsoft Corporation
   交易所: NMS | 类型: EQUITY

2. **3MSE.DE** - Leverage Shares 3x Microsoft ETC
   交易所: GER | 类型: EQUITY

3. **MSSE.DE** - Leverage Shares -1x Microsoft ETP Securities
   交易所: GER | 类型: EQUITY

4. **MSF0.F** - Microsoft Corporation
   交易所: FRA | 类型: EQUITY

5. **MSFT.BA** - Microsoft Corporation
   交易所: BUE | 类型: EQUITY

6. **MSF.DU** - Microsoft Corp
   交易所: DUS | 类型: EQUITY

7. **MSF.DE** - Microsoft Corporation
   交易所: GER | 类型: EQUITY

💡 **使用示例:**
analyze_stock_price(symbol="MSFT", interval="1d")

### 测试搜索股票代码'BABA'

🔍 **搜索 'BABA' 的结果:**

1. **BABA** - Alibaba Group Holding Limited
   交易所: NYQ | 类型: EQUITY

2. **9988.HK** - Alibaba Group Holding Limited
   交易所: HKG | 类型: EQUITY

3. **BABX** - GraniteShares 2x Long BABA Daily ETF
   交易所: NGM | 类型: ETF

4. **BABAN.MX** - Alibaba Group Holding Limited
   交易所: MEX | 类型: EQUITY

5. **BABA251219C00120000** - BABA Dec 2025 120.000 call
   交易所: OPR | 类型: OPTION

6. **BABA260116C00070000** - BABA Jan 2026 70.000 call
   交易所: OPR | 类型: OPTION

7. **BABA251219C00065000** - BABA Dec 2025 65.000 call
   交易所: OPR | 类型: OPTION

💡 **使用示例:**
analyze_stock_price(symbol="BABA", interval="1d")

## 股票分析功能测试


### 苹果(AAPL)日线分析

📈 **AAPL 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 257.13
📊 涨跌幅: +1.68 (+0.66%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 18:59:11

🕯️ **检测到的K线形态:**
  🟡 十字线 (置信度: 0.7)
     📝 开盘收盘价接近，表示市场犹豫不决，可能预示反转

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 255.42, 10日: 254.23, 20日: 244.84)
  🔄 RSI: 70.1 (超买)
  📉 MACD: 金叉看涨 (MACD: 7.3875, 信号: 6.7978)
  📊 布林带: 上轨附近，可能超买

### 腾讯(0700.HK)4小时线分析

📈 **0700.HK 股票分析**
⏰ 时间周期: 4h
💰 当前价格: 673.50
📊 涨跌幅: +0.50 (+0.07%)
📊 数据点数: 42
🕒 分析时间: 2025-10-03 18:59:11

ℹ️ 未检测到明显的K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 673.30, 10日: 664.00, 20日: 653.23)
  🔄 RSI: 68.8 (正常)
  📉 MACD: 金叉看涨 (MACD: 11.5235, 信号: 10.3979)
  📊 布林带: 上轨附近，可能超买

### 上证指数(000001.SS)日线分析

📈 **000001.SS 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 3882.78
📊 涨跌幅: +20.25 (+0.52%)
📊 数据点数: 67
🕒 分析时间: 2025-10-03 18:59:12

ℹ️ 未检测到明显的K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 3856.07, 10日: 3845.89, 20日: 3838.27)
  🔄 RSI: 61.4 (正常)
  📉 MACD: 死叉看跌 (MACD: 27.1739, 信号: 32.0516)
  📊 布林带: 上轨附近，可能超买

### 标普500(^GSPC)日线分析

📈 **^GSPC 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 6715.35
📊 涨跌幅: +4.15 (+0.06%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 18:59:12

ℹ️ 未检测到明显的K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 6683.98, 10日: 6667.76, 20日: 6616.25)
  🔄 RSI: 69.0 (正常)
  📉 MACD: 金叉看涨 (MACD: 62.3015, 信号: 60.2729)
  📊 布林带: 上轨附近，可能超买

### 阿里巴巴(BABA)日线分析

📈 **BABA 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 189.34
📊 涨跌幅: +6.56 (+3.59%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 18:59:13

ℹ️ 未检测到明显的K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 180.53, 10日: 174.47, 20日: 163.60)
  🔄 RSI: 79.0 (超买)
  📉 MACD: 金叉看涨 (MACD: 13.4722, 信号: 12.1205)
  📊 布林带: 上轨附近，可能超买

### 分析结果汇总

| 股票代码 | 周期 | 当前价格 | 涨跌幅 | K线形态 |
| --- | --- | --- | --- | --- |
| AAPL | 1d | 257.13 | +1.68 (+0.66%) | 有形态 |
| 0700.HK | 4h | 673.50 | +0.50 (+0.07%) | 无形态 |
| 000001.SS | 1d | 3882.78 | +20.25 (+0.52%) | 无形态 |
| ^GSPC | 1d | 6715.35 | +4.15 (+0.06%) | 无形态 |
| BABA | 1d | 189.34 | +6.56 (+3.59%) | 无形态 |

## 不同时间周期测试


### AAPL 1h周期分析

📈 **AAPL 股票分析**
⏰ 时间周期: 1h
💰 当前价格: 257.13
📊 涨跌幅: -0.01 (-0.00%)
📊 数据点数: 36
🕒 分析时间: 2025-10-03 18:59:13

ℹ️ 未检测到明显的K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 257.41, 10日: 256.92, 20日: 255.99)
  🔄 RSI: 58.0 (正常)
  📉 MACD: 金叉看涨 (MACD: 0.6667, 信号: 0.4660)
  📊 布林带: 中轨附近

### AAPL 4h周期分析

📈 **AAPL 股票分析**
⏰ 时间周期: 4h
💰 当前价格: 257.13
📊 涨跌幅: -0.01 (-0.00%)
📊 数据点数: 45
🕒 分析时间: 2025-10-03 18:59:14

ℹ️ 未检测到明显的K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 256.65, 10日: 255.47, 20日: 254.53)
  🔄 RSI: 66.2 (正常)
  📉 MACD: 死叉看跌 (MACD: 4.0230, 信号: 4.3435)
  📊 布林带: 中轨附近

### AAPL 1d周期分析

📈 **AAPL 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 257.13
📊 涨跌幅: +1.68 (+0.66%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 18:59:14

🕯️ **检测到的K线形态:**
  🟡 十字线 (置信度: 0.7)
     📝 开盘收盘价接近，表示市场犹豫不决，可能预示反转

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 255.42, 10日: 254.23, 20日: 244.84)
  🔄 RSI: 70.1 (超买)
  📉 MACD: 金叉看涨 (MACD: 7.3875, 信号: 6.7978)
  📊 布林带: 上轨附近，可能超买

### AAPL 1wk周期分析

📈 **AAPL 股票分析**
⏰ 时间周期: 1wk
💰 当前价格: 257.13
📊 涨跌幅: +0.00 (+0.00%)
📊 数据点数: 54
🕒 分析时间: 2025-10-03 18:59:15

ℹ️ 未检测到明显的K线形态

📊 **技术指标:**
  📈 移动平均线: 看涨 (5日: 249.86, 10日: 240.98, 20日: 223.26)
  🔄 RSI: 66.6 (正常)
  📉 MACD: 金叉看涨 (MACD: 9.8901, 信号: 4.7408)
  📊 布林带: 上轨附近，可能超买

### 不同周期技术指标对比

| 周期 | RSI | MACD | 布林带 |
| --- | --- | --- | --- |
| 1h |   🔄 RSI: 58.0 (正常) |   📉 MACD: 金叉看涨 (MACD: 0.6667, 信号: 0.4660) |   📊 布林带: 中轨附近 |
| 4h |   🔄 RSI: 66.2 (正常) |   📉 MACD: 死叉看跌 (MACD: 4.0230, 信号: 4.3435) |   📊 布林带: 中轨附近 |
| 1d |   🔄 RSI: 70.1 (超买) |   📉 MACD: 金叉看涨 (MACD: 7.3875, 信号: 6.7978) |   📊 布林带: 上轨附近，可能超买 |
| 1wk |   🔄 RSI: 66.6 (正常) |   📉 MACD: 金叉看涨 (MACD: 9.8901, 信号: 4.7408) |   📊 布林带: 上轨附近，可能超买 |

## 示例和信息功能测试


### 股票代码示例

📋 **股票代码示例:**

**🇺🇸 美股:**
  AAPL, GOOGL, TSLA, MSFT, AMZN
  META, NVDA, NFLX, AMD, INTC
  BABA, PDD, JD, BAC, JPM
  WMT, DIS, V, MA

**🇭🇰 港股:**
  0700.HK, 0005.HK, 1299.HK, 0939.HK, 2318.HK
  3988.HK, 0883.HK, 0388.HK, 0288.HK, 2628.HK
  0960.HK, 1810.HK

**🇨🇳 沪市:**
  000001.SS, 600036.SS, 601318.SS, 600519.SS, 601888.SS
  601398.SS, 601857.SS, 601766.SS, 601668.SS, 601989.SS

**🇨🇳 深市:**
  399001.SZ, 000858.SZ, 000333.SZ, 002415.SZ, 000001.SZ
  000002.SZ, 000063.SZ, 002594.SZ, 300750.SZ, 300059.SZ

**📊 指数:**
  ^GSPC, ^IXIC, ^DJI, ^HSI, 000001.SS
  399001.SZ

💡 **使用说明:**
1. 使用 search_stock_symbols('公司名') 搜索股票代码
2. 使用 analyze_stock_price('代码', '周期') 分析股票

🌐 **支持的股票:** 所有雅虎财经支持的股票代码
⏰ **支持周期:** 1h, 4h, 1d, 1wk

**示例:**
search_stock_symbols("Apple")
analyze_stock_price("AAPL", "1d")
analyze_stock_price("0700.HK", "4h")
analyze_stock_price("^GSPC", "1d")  # 标普500指数

### K线形态说明

🕯️ **K线形态说明:**

**看涨形态:**
  🔨 锤头线: 出现在下跌趋势中，下影线长，实体小，可能预示反转
  🟢 看涨吞没: 阳线完全吞没前一根阴线，强烈看涨
  🌅 早晨之星: 三根K线组合，出现在底部，强烈看涨
  🔺 T字线: 卖方打压后买方收复失地，看涨信号
  🤰 孕线看涨: 小实体在大实体内，下跌趋势中可能反转

**看跌形态:**
  💀 上吊线: 出现在上涨趋势中，下影线长，实体小，可能预示反转
  🔴 看跌吞没: 阴线完全吞没前一根阳线，强烈看跌
  🌇 黄昏之星: 三根K线组合，出现在顶部，强烈看跌
  🔻 倒T字线: 买方推高后卖方打压回落，看跌信号
  🌠 射击之星: 长上影线，出现在上涨趋势顶部，看跌
  🤰 孕线看跌: 小实体在大实体内，上涨趋势中可能反转

**中性形态:**
  ❌ 十字线: 开盘收盘价接近，表示市场犹豫不决


## 错误处理测试


### 测试无效股票代码

❌ 股票代码 INVALID_STOCK 无效或无法获取数据，请检查代码格式

### 测试无效时间周期

❌ 不支持的K线周期，请使用: 1h, 4h, 1d, 1wk

## 测试错误

❌ 测试过程中出现错误: not enough values to unpack (expected 3, got 2)