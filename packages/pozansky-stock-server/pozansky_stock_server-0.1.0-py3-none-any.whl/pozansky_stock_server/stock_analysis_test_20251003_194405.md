# 股票分析MCP测试报告
**测试时间**: 2025-10-03 19:44:05
**生成文件**: stock_analysis_test_20251003_194405.md


## 🎯 测试概览

本次测试全面验证了股票分析MCP工具的以下功能：

### ✅ 已测试功能
1. **股票搜索功能** - 支持通过公司名称搜索股票代码
2. **多周期分析** - 支持1小时、4小时、日线、周线分析
3. **K线形态识别** - 自动识别常见K线形态
4. **技术指标计算** - RSI、MACD、布林带、移动平均线等
5. **错误处理** - 无效输入和错误情况的处理
6. **多市场支持** - 美股、港股、A股、指数等
7. **特定股票分析** - 支持用户指定股票代码进行分析

### 📊 测试覆盖
- **股票数量**: 20+ 只热门股票
- **时间周期**: 4种不同周期
- **市场类型**: 美股、港股、A股、指数、加密货币
- **技术指标**: 5+ 种常用指标
- **K线形态**: 10+ 种常见形态

### 🔧 技术特点
- 基于雅虎财经API的实时数据
- 改进的K线形态识别算法
- 多维度技术分析
- 友好的中文输出界面
- 冲突形态检测和过滤

### ⚠️ 已知限制
- 中文搜索功能受限（雅虎财经API限制）
- 部分技术指标需要TA-Lib支持
- 数据获取依赖网络连接

### 📈 使用建议
1. 对于短线交易，建议使用1小时或4小时线
2. 对于中长期投资，建议使用日线或周线
3. 结合多个技术指标进行综合判断
4. K线形态需要结合趋势背景分析
5. 特定股票分析可用于监控投资组合

### 🔍 如何添加自定义股票
在 `test_specific_stocks()` 函数中的 `specific_stocks` 列表中添加：
```python
("股票代码", "时间周期", "描述")

# 股票分析MCP测试报告

**测试执行时间**: 2025-10-03 19:44:05

## 特定股票分析测试


### 苹果日线 (AAPL)

📈 **AAPL 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 257.13
📊 涨跌幅: +1.68 (+0.66%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:44:16

ℹ️ 未检测到明显的K线形态

📊 **技术指标分析:**
  📈 移动平均线: 看涨 (5日: 255.42, 10日: 254.23, 20日: 244.84)
  🔄 RSI: 80.6 (超买)
  📉 MACD: 金叉看涨 (MACD: 7.1241, 信号: 6.4858)
  📊 布林带: 中轨附近

### 微软日线 (MSFT)

📈 **MSFT 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 515.74
📊 涨跌幅: -3.97 (-0.76%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:44:16

ℹ️ 未检测到明显的K线形态

📊 **技术指标分析:**
  📈 移动平均线: 看涨 (5日: 515.89, 10日: 513.83, 20日: 509.20)
  🔄 RSI: 55.5 (正常)
  📉 MACD: 金叉看涨 (MACD: 1.8594, 信号: 0.7183)
  📊 布林带: 中轨附近

### 特斯拉日线 (TSLA)

📈 **TSLA 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 436.00
📊 涨跌幅: -23.46 (-5.11%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:44:17

🕯️ **单K线形态分析:**
  🔴 光头光脚阴线 (置信度: 0.9)
     📝 没有上下影线，开盘价即最高价，收盘价即最低价，表示强烈的看跌信号

📊 **技术指标分析:**
  📈 移动平均线: 看涨 (5日: 444.76, 10日: 437.61, 20日: 410.36)
  🔄 RSI: 62.5 (正常)
  📉 MACD: 金叉看涨 (MACD: 25.7030, 信号: 24.7630)
  📊 布林带: 中轨附近

### 英伟达日线 (NVDA)

📈 **NVDA 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 188.89
📊 涨跌幅: +1.65 (+0.88%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:44:17

ℹ️ 未检测到明显的K线形态

📊 **技术指标分析:**
  📈 移动平均线: 看涨 (5日: 184.55, 10日: 181.61, 20日: 177.68)
  🔄 RSI: 64.0 (正常)
  📉 MACD: 金叉看涨 (MACD: 2.6081, 信号: 1.2249)
  📊 布林带: 上轨附近，可能超买

### 亚马逊日线 (AMZN)

📈 **AMZN 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 222.41
📊 涨跌幅: +1.78 (+0.81%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:44:18

🕯️ **单K线形态分析:**
  🟢 带上下影线的阳线 (置信度: 0.5)
     📝 有上下影线，表示多空双方有争夺，但最终买方获胜

📊 **技术指标分析:**
  📈 移动平均线: 看跌 (5日: 220.91, 10日: 222.27, 20日: 227.30)
  🔄 RSI: 41.0 (正常)
  📉 MACD: 死叉看跌 (MACD: -2.2226, 信号: -1.3479)
  📊 布林带: 中轨附近

### 阿里巴巴日线 (BABA)

📈 **BABA 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 189.34
📊 涨跌幅: +6.56 (+3.59%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:44:19

🕯️ **双K线组合分析:**
  🟢 向上跳空组合 (置信度: 0.7)
     📝 第二根K线向上跳空，显示强劲的买方力量

🕯️ **多K线组合分析:**
  🟢 多方炮 (置信度: 0.7)
     📝 两阳夹一阴形态，显示洗盘后继续上涨的强势信号

📊 **技术指标分析:**
  📈 移动平均线: 看涨 (5日: 180.53, 10日: 174.47, 20日: 163.60)
  🔄 RSI: 80.9 (超买)
  📉 MACD: 金叉看涨 (MACD: 13.0578, 信号: 11.6366)
  📊 布林带: 上轨附近，可能超买

### 腾讯日线 (0700.HK)

📈 **0700.HK 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 673.50
📊 涨跌幅: -3.00 (-0.44%)
📊 数据点数: 66
🕒 分析时间: 2025-10-03 19:44:19

🕯️ **单K线形态分析:**
  🔴 带上下影线的阴线 (置信度: 0.5)
     📝 有上下影线，表示多空双方有争夺，但最终卖方获胜

🕯️ **双K线组合分析:**
  🔴 孕线组合(看跌) (置信度: 0.6)
     📝 小实体在大实体内，出现在上涨趋势中可能反转

📊 **技术指标分析:**
  📈 移动平均线: 看涨 (5日: 663.40, 10日: 653.45, 20日: 644.15)
  🔄 RSI: 64.9 (正常)
  📉 MACD: 金叉看涨 (MACD: 17.6161, 信号: 16.4270)
  📊 布林带: 上轨附近，可能超买

### 上证指数日线 (000001.SS)

📈 **000001.SS 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 3882.78
📊 涨跌幅: +20.25 (+0.52%)
📊 数据点数: 67
🕒 分析时间: 2025-10-03 19:44:20

🕯️ **单K线形态分析:**
  🟢 带上下影线的阳线 (置信度: 0.5)
     📝 有上下影线，表示多空双方有争夺，但最终买方获胜

🕯️ **多K线组合分析:**
  🟢 多方炮 (置信度: 0.7)
     📝 两阳夹一阴形态，显示洗盘后继续上涨的强势信号

📊 **技术指标分析:**
  📈 移动平均线: 看涨 (5日: 3856.07, 10日: 3845.89, 20日: 3838.27)
  🔄 RSI: 62.7 (正常)
  📉 MACD: 死叉看跌 (MACD: 24.5353, 信号: 28.3616)
  📊 布林带: 上轨附近，可能超买

### 标普500日线 (^GSPC)

📈 **^GSPC 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 6715.35
📊 涨跌幅: +4.15 (+0.06%)
📊 数据点数: 64
🕒 分析时间: 2025-10-03 19:44:20

ℹ️ 未检测到明显的K线形态

📊 **技术指标分析:**
  📈 移动平均线: 看涨 (5日: 6683.98, 10日: 6667.76, 20日: 6616.25)
  🔄 RSI: 69.3 (正常)
  📉 MACD: 金叉看涨 (MACD: 59.4205, 信号: 56.5952)
  📊 布林带: 上轨附近，可能超买

### 恒生指数日线 (^HSI)

📈 **^HSI 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 27140.92
📊 涨跌幅: -146.20 (-0.54%)
📊 数据点数: 66
🕒 分析时间: 2025-10-03 19:44:21

ℹ️ 未检测到明显的K线形态

📊 **技术指标分析:**
  📈 移动平均线: 看涨 (5日: 26806.94, 10日: 26608.64, 20日: 26404.47)
  🔄 RSI: 61.3 (正常)
  📉 MACD: 金叉看涨 (MACD: 370.8890, 信号: 322.3173)
  📊 布林带: 上轨附近，可能超买

### 特定股票分析汇总

| 股票代码 | 描述 | 当前价格 | 涨跌幅 | RSI | K线形态 |
| --- | --- | --- | --- | --- | --- |
| AAPL | 苹果日线 | 257.13 | +1.68 (+0.66%) | 80.6 | 无 |
| MSFT | 微软日线 | 515.74 | -3.97 (-0.76%) | 55.5 | 无 |
| TSLA | 特斯拉日线 | 436.00 | -23.46 (-5.11%) | 62.5 | 无 |
| NVDA | 英伟达日线 | 188.89 | +1.65 (+0.88%) | 64.0 | 无 |
| AMZN | 亚马逊日线 | 222.41 | +1.78 (+0.81%) | 41.0 | 无 |
| BABA | 阿里巴巴日线 | 189.34 | +6.56 (+3.59%) | 80.9 | 无 |
| 0700.HK | 腾讯日线 | 673.50 | -3.00 (-0.44%) | 64.9 | 无 |
| 000001.SS | 上证指数日线 | 3882.78 | +20.25 (+0.52%) | 62.7 | 无 |
| ^GSPC | 标普500日线 | 6715.35 | +4.15 (+0.06%) | 69.3 | 无 |
| ^HSI | 恒生指数日线 | 27140.92 | -146.20 (-0.54%) | 61.3 | 无 |

## 自定义股票分析测试


### 自定义分析: 三星电子 (005930.KS)

📈 **005930.KS 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 89750.00
📊 涨跌幅: +3750.00 (+4.36%)
📊 数据点数: 65
🕒 分析时间: 2025-10-03 19:44:21

🕯️ **双K线组合分析:**
  🟢 向上跳空组合 (置信度: 0.7)
     📝 第二根K线向上跳空，显示强劲的买方力量

🕯️ **多K线组合分析:**
  🟢 多方炮 (置信度: 0.7)
     📝 两阳夹一阴形态，显示洗盘后继续上涨的强势信号

📊 **技术指标分析:**
  📈 移动平均线: 看涨 (5日: 85430.00, 10日: 84715.00, 20日: 79192.50)
  🔄 RSI: 82.8 (超买)
  📉 MACD: 金叉看涨 (MACD: 4189.8852, 信号: 3511.1714)
  📊 布林带: 上轨附近，可能超买

### 自定义分析: 丰田汽车 (7203.T)

📈 **7203.T 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 2839.50
📊 涨跌幅: +34.50 (+1.23%)
📊 数据点数: 63
🕒 分析时间: 2025-10-03 19:44:22

🕯️ **单K线形态分析:**
  🟢 光头阳线 (置信度: 0.7)
     📝 没有上影线，收盘价即最高价，表示买方完全控制局面

📊 **技术指标分析:**
  📈 移动平均线: 看跌 (5日: 2837.10, 10日: 2893.30, 20日: 2911.70)
  🔄 RSI: 44.2 (正常)
  📉 MACD: 死叉看跌 (MACD: -5.5012, 信号: 13.2129)
  📊 布林带: 下轨附近，可能超卖

### 自定义分析: 软银集团 (9984.T)

📈 **9984.T 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 19980.00
📊 涨跌幅: +685.00 (+3.55%)
📊 数据点数: 63
🕒 分析时间: 2025-10-03 19:44:23

🕯️ **单K线形态分析:**
  🟢 带上下影线的阳线 (置信度: 0.5)
     📝 有上下影线，表示多空双方有争夺，但最终买方获胜

🕯️ **双K线组合分析:**
  🟢 向上跳空组合 (置信度: 0.7)
     📝 第二根K线向上跳空，显示强劲的买方力量

📊 **技术指标分析:**
  📈 移动平均线: 看涨 (5日: 19048.00, 10日: 18897.00, 20日: 17904.50)
  🔄 RSI: 65.9 (正常)
  📉 MACD: 金叉看涨 (MACD: 1072.2583, 信号: 1054.8206)
  📊 布林带: 上轨附近，可能超买

### 自定义分析: 比特币 (BTC-USD)

📈 **BTC-USD 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 120401.53
📊 涨跌幅: -279.73 (-0.23%)
📊 数据点数: 93
🕒 分析时间: 2025-10-03 19:44:23

🕯️ **单K线形态分析:**
  🔴 上吊线 (置信度: 0.8)
     📝 出现在上涨趋势中，长下影线表示卖方力量开始增强

🕯️ **双K线组合分析:**
  🔴 孕线组合(看跌) (置信度: 0.6)
     📝 小实体在大实体内，出现在上涨趋势中可能反转

📊 **技术指标分析:**
  📈 移动平均线: 震荡 (5日: 117637.64, 10日: 114208.35, 20日: 114743.24)
  🔄 RSI: 60.7 (正常)
  📉 MACD: 金叉看涨 (MACD: 1067.8913, 信号: 199.8660)
  📊 布林带: 上轨附近，可能超买

### 自定义分析: 以太坊 (ETH-USD)

📈 **ETH-USD 股票分析**
⏰ 时间周期: 1d
💰 当前价格: 4482.35
📊 涨跌幅: -5.57 (-0.12%)
📊 数据点数: 93
🕒 分析时间: 2025-10-03 19:44:24

🕯️ **单K线形态分析:**
  🟡 十字线 (置信度: 0.8)
     📝 开盘收盘价接近，表示市场犹豫不决，可能预示反转

📊 **技术指标分析:**
  📈 移动平均线: 震荡 (5日: 4336.94, 10日: 4190.25, 20日: 4324.90)
  🔄 RSI: 50.4 (正常)
  📉 MACD: 金叉看涨 (MACD: -15.6756, 信号: -43.2448)
  📊 布林带: 中轨附近

### 自定义股票分析汇总

| 股票代码 | 描述 | 当前价格 | 涨跌幅 | 状态 |
| --- | --- | --- | --- | --- |
| 005930.KS | 三星电子 | 89750.00 | +3750.00 (+4.36%) | ✅ 成功 |
| 7203.T | 丰田汽车 | 2839.50 | +34.50 (+1.23%) | ✅ 成功 |
| 9984.T | 软银集团 | 19980.00 | +685.00 (+3.55%) | ✅ 成功 |
| BTC-USD | 比特币 | 120401.53 | -279.73 (-0.23%) | ✅ 成功 |
| ETH-USD | 以太坊 | 4482.35 | -5.57 (-0.12%) | ✅ 成功 |

## 测试总结
