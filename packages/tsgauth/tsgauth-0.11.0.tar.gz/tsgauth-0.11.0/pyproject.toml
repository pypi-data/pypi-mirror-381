[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[project]
name = "tsgauth"
version = "0.11.0"
authors = [
  { name="Sam Harper", email="cmstsg@cern.ch" },
]
description = "The TSG authentication library for use with the CERN SSO (OIDC based) service"
readme = "README_PYPI.md"
requires-python = ">=3.9"
classifiers = [
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent",
]
dependencies = [
  "authlib >= 0.15",
  "requests",  
]

[project.optional-dependencies]
flask = ["Flask>=2.0","redis"]
fastapi = ["fastapi[standard]","aiocache","pydantic-settings","redis","itsdangerous"]
dev = ["pytest","httpx"]
kerb = ["requests_gssapi","inputimeout","bs4"]

[tool.hatch.build]
include = [
  "README_PYPI.md",
  "tsgauth/*",
  "bin/*",
  "examples/*",
  "requirements.txt",
  "requirements-dev.txt",
  "pyproject.toml",
  "tests/*",
  "LICENCE.txt",
]
exclude = [
  "/README.md",
  "/venv",
  "/.git",
  "/.gitignore",
  "/.gitlab-ci.yml",
  "/.hatch.yml",
  "/.pytest_cache",
  "/.vscode",
  "/dist",
  "/images",
  "/*~",
  "/*/*~",
]



[project.urls]
"Homepage" = "https://gitlab.cern.ch/cms-tsg/common/tsgauth"
"Bug Tracker" = "https://gitlab.cern.ch/cms-tsg/common/tsgauth/issues"