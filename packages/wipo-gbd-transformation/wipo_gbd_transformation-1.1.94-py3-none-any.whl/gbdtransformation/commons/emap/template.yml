# known issues:
# Address lines do not have language codes => defaulting to application language code
# Applicants/Representatives do not have an identifier
# THTM: no MarkFeature => deduce
# No Publication Section

{% from 'navigation.tmpl' import match %}

applicant:
    identifier: {{ Applicant.ApplicantIdentifier }}
    kind: {{ Applicant.ApplicantLegalEntity}}
    fullName:
      {% call(nameline) match('FormattedNameAddress.Name.FormattedName', Applicant.ApplicantAddressBook) %}
      - text: {{ nameline | create_full_name }}
        languageCode: {{ nameline.LastName | guess_language('en') }}
      {% endcall %}
    firstName:
      {% call(nameline) match('FormattedNameAddress.Name.FormattedName.FirstName', Applicant.ApplicantAddressBook) %}
      - languageCode: {{ nameline | guess_language('en') }}
        text: {{ nameline }}
      {% endcall %}
    lastName:
      {% call(nameline) match('FormattedNameAddress.Name.FormattedName.LastName', Applicant.ApplicantAddressBook) %}
      - languageCode: {{ nameline | guess_language('en') }}
        text: {{ nameline }}
      {% endcall %}
    middleName:
      {% call(nameline) match('FormattedNameAddress.Name.FormattedName.MiddleName', Applicant.ApplicantAddressBook) %}
      - languageCode: {{ nameline | guess_language('en') }}
        text: {{ nameline }}
      {% endcall %}
    organizationName:
      {% call(nameline) match('FormattedNameAddress.Name.FormattedName.OrganizationName', Applicant.ApplicantAddressBook) %}
      - languageCode: {{ nameline | guess_language('en') }}
        text: {{ nameline }}
      {% endcall %}
    fullAddress:
      {% call(adrline) match('PostalAddress', Applicant.ApplicantAddressBook) %}
      - text: {{ adrline }}
        languageCode: {{ adrline | guess_language('en') }}
      {% endcall %}
    detailedAddress:
      - languageCode: {{ Applicant.ApplicantAddressBook.FormattedNameAddress.Address.FormattedAddress.AddressStreet | guess_language('en') }}
        text: {{ Applicant.ApplicantAddressBook.FormattedNameAddress.Address.FormattedAddress.AddressStreet }}
        cityName: {{ Applicant.ApplicantAddressBook.FormattedNameAddress.Address.FormattedAddress.AddressCity }}
        geographicRegionName: {{ Applicant.ApplicantAddressBook.FormattedNameAddress.Address.FormattedAddress.AddressState }}
        postalCode: {{ Applicant.ApplicantAddressBook.FormattedNameAddress.Address.FormattedAddress.AddressPostcode }}
    contact:
      phone: {{ Applicant.ApplicantAddressBook.ContactInformationDetails.Phone }}
      fax: {{ Applicant.ApplicantAddressBook.ContactInformationDetails.Fax }}
      email: {{ Applicant.ApplicantAddressBook.ContactInformationDetails.Email }}
      url: {{ Applicant.ApplicantAddressBook.ContactInformationDetails.URL }}
    countryCode: {{ Applicant.ApplicantAddressBook.FormattedNameAddress.Address.AddressCountryCode }}

 
