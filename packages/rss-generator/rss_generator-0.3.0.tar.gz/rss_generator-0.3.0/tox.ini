[tox]
envlist = py312,py313,lint
isolated_build = True
skip_missing_interpreters = True

[testenv]
description = Run unit tests with pytest
deps =
    pytest>=8.0.0
    pytest-cov>=4.1.0
    pytest-mock>=3.12.0
commands =
    pytest {posargs:tests/} -v --cov=rss_generator --cov-report=term-missing --cov-report=html --cov-report=xml

[testenv:lint]
description = Run linters and formatters
deps =
    ruff>=0.1.0
skip_install = True
commands =
    ruff check rss_generator tests

[testenv:format]
description = Format code with ruff
deps =
    ruff>=0.1.0
skip_install = True
commands =
    ruff format rss_generator tests

[testenv:type]
description = Run type checking with mypy
deps =
    mypy>=1.7.0
    types-requests
    types-beautifulsoup4
commands =
    mypy rss_generator

[gh-actions]
python =
    3.12: py312
    3.13: py313
