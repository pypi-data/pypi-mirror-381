import{s as Pe,d as v,i as F,y as pe,o as Te,m as Ce,z as ke,a as h,B as W,A as _e,p as ye,k as l,l as ne,b as f,C as ze,c as p,h as P,f as S,g as V,q as be,e as _,j as D,t as we,D as Ne}from"./Cl1o3nVP.js";import{S as Se,i as De,t as U,a as j,g as xe,e as Ee,d as Oe,m as Ie,c as Le,b as Ve}from"./nb9JOxVX.js";import{a as re}from"./BQKmaevx.js";import{P as je}from"./15fiH0D_.js";import"./C0VlNTRY.js";import{p as de}from"./CIu1j7bJ.js";const Ae=({fractional:t,part:s="back",until:n=8})=>{if(s==="back"){const e=n-t.length;for(let r=1;r<=e;r++)t=t+"0";return t}else{const e=n-t.length;for(let r=1;r<=e;r++)t="0"+t;return t}},qe=t=>{const s=t.slice(0,t.length-8),n=t.slice(t.length-8);return[s,n]},Me=({Octas:t})=>{re(t),t.length<=8&&(t=Ae({fractional:t,until:9,part:"front"}));const s=qe(t);return s[0]+"."+s[1]},me="01234567890.",He=t=>{if(typeof t!="string")throw new Error(`Digit amount needs to be a string, however received: "${typeof t}".`);if(t.length===0)throw new Error("Digit amount needs to be a string of length >= 1");const s=t.length-1;for(let n=0;n<=s;n++)if(me.includes(t[n])!==!0)throw new Error(`Digit glyphs need to be one of ${me}, however at index ${n}, received: "${t[n]}".`)},se=({Digits:t})=>{re(t);let s=t.length-1,n="no",e="";for(let r=0;r<=s;r++)t[r]!=="0"&&(n="yes"),n==="yes"&&(e+=t[r]);return e.length===0?"0":e},Be=({APT:t})=>{if(He(t),t.includes(".")!==!0)return se({Digits:t+"00000000"});const s=t.split(".");if(s.length!==2)throw new Error("The APT amount wasn't two parts after gettings the parts around the decimal.");const n=Ae({fractional:s[1]});if(n.length>=9)throw new Error("The APT amount after the decimal can't be more than 8 digits.");if(n.length!==8)throw new Error("The APT amount after the decimal was not 8 digits.");console.log({pair:s,pair_fractional:n});const e=s[0]+n;return console.log({squeeze:e}),se({Digits:e})};function he(t){let s,n,e,r,a,d,m,c,w,T="APT",u,N="Octas",C,i,b,x,k,G="<b>Actual Amount</b>",M,o,z,H=de(t[1])+"",J,X,O,ae="Octas",Y,B,Z,L,oe='<div class="alert-message" style="text-align: center; "><p>&quot;<b>Actual Amount</b>&quot; is calculated from the number provided and is the amount used.</p></div>',$,q,ee,le,E=t[0]==="yes"&&ge(t),g=t[4].problem.length>=1&&ve(t);return{c(){s=_("div"),n=_("div"),e=_("div"),r=_("label"),a=_("input"),d=D(),m=_("label"),c=_("select"),w=_("option"),w.textContent=T,u=_("option"),u.textContent=N,C=D(),i=_("div"),E&&E.c(),b=D(),x=_("span"),k=_("span"),k.innerHTML=G,M=D(),o=_("div"),z=_("span"),J=we(H),X=D(),O=_("span"),O.textContent=ae,Y=D(),B=_("div"),Z=D(),L=_("aside"),L.innerHTML=oe,$=D(),g&&g.c(),this.h()},l(y){s=p(y,"DIV",{});var A=P(s);n=p(A,"DIV",{});var ie=P(n);e=p(ie,"DIV",{_class:!0,style:!0});var K=P(e);r=p(K,"LABEL",{class:!0,style:!0});var ce=P(r);a=p(ce,"INPUT",{monitor:!0,amount_field:!0,style:!0,class:!0,type:!0,placeholder:!0}),ce.forEach(v),d=S(K),m=p(K,"LABEL",{style:!0,class:!0});var ue=P(m);c=p(ue,"SELECT",{monitor:!0,currency_chooser:!0,style:!0,class:!0});var te=P(c);w=p(te,"OPTION",{"data-svelte-h":!0}),V(w)!=="svelte-1x28i8j"&&(w.textContent=T),u=p(te,"OPTION",{"data-svelte-h":!0}),V(u)!=="svelte-1tgaogs"&&(u.textContent=N),te.forEach(v),ue.forEach(v),K.forEach(v),ie.forEach(v),C=S(A),i=p(A,"DIV",{style:!0});var I=P(i);E&&E.l(I),b=S(I),x=p(I,"SPAN",{class:!0,style:!0});var Q=P(x);k=p(Q,"SPAN",{"data-svelte-h":!0}),V(k)!=="svelte-1pvhq2p"&&(k.innerHTML=G),M=S(Q),o=p(Q,"DIV",{});var R=P(o);z=p(R,"SPAN",{monitor:!0,style:!0});var fe=P(z);J=be(fe,H),fe.forEach(v),X=S(R),O=p(R,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),V(O)!=="svelte-8793rd"&&(O.textContent=ae),R.forEach(v),Q.forEach(v),Y=S(I),B=p(I,"DIV",{style:!0}),P(B).forEach(v),Z=S(I),L=p(I,"ASIDE",{class:!0,"data-svelte-h":!0}),V(L)!=="svelte-dxau0g"&&(L.innerHTML=oe),I.forEach(v),$=S(A),g&&g.l(A),A.forEach(v),this.h()},h(){h(a,"monitor","amount field"),h(a,"amount_field",""),f(a,"padding","10px 20px"),f(a,"text-align","right"),h(a,"class","input"),h(a,"type","text"),h(a,"placeholder",t[6]),h(r,"class","label"),f(r,"width","100%"),w.__value="APT",W(w,w.__value),u.__value="Octas",W(u,u.__value),h(c,"monitor","currency chooser"),h(c,"currency_chooser",""),f(c,"height","100%"),f(c,"width","100%"),h(c,"class","select"),t[3]===void 0&&ze(()=>t[13].call(c)),f(m,"width","3cm"),f(m,"border-radius","8px"),f(m,"text-align","center"),f(m,"margin-left","0.1cm"),h(m,"class","label"),h(e,"_class","input-group input-group-divider grid-cols-[auto_1fr_auto]"),f(e,"padding","2px"),f(e,"display","flex"),h(z,"monitor","actual amount of octas"),f(z,"font-size","1em"),f(z,"white-space","preserve"),f(z,"word-wrap","anywhere"),f(z,"margin","4px"),h(O,"class","badge variant-filled-surface"),f(O,"font-size","1.1em"),h(x,"class","badge variant-soft"),h(x,"style","// display: grid; // grid-template-columns: repeat(auto-fit, minmax(6cm, 1fr)); // gap: 4px; // flex: 1 1 50%; display: flex; flex-wrap: wrap; justify-content: space-between; position: relative; font-size: 1.2em; white-space: break-spaces; padding: 0.25cm 0.5cm; "),f(B,"height","0.25cm"),h(L,"class","alert variant-filled-surface"),h(i,"style","// display: flex; // flex-wrap: wrap; // justify-content: space-between; // flex-direction: wrap; width: 100%; margin: 4px 0; ")},m(y,A){F(y,s,A),l(s,n),l(n,e),l(e,r),l(r,a),W(a,t[2]),l(e,d),l(e,m),l(m,c),l(c,w),l(c,u),_e(c,t[3],!0),l(s,C),l(s,i),E&&E.m(i,null),l(i,b),l(i,x),l(x,k),l(x,M),l(x,o),l(o,z),l(z,J),l(o,X),l(o,O),l(i,Y),l(i,B),l(i,Z),l(i,L),l(s,$),g&&g.m(s,null),q=!0,ee||(le=[ne(a,"input",t[12]),ne(a,"keyup",t[7]),ne(c,"change",t[13])],ee=!0)},p(y,A){(!q||A&64)&&h(a,"placeholder",y[6]),A&4&&a.value!==y[2]&&W(a,y[2]),A&8&&_e(c,y[3]),y[0]==="yes"?E?E.p(y,A):(E=ge(y),E.c(),E.m(i,b)):E&&(E.d(1),E=null),(!q||A&2)&&H!==(H=de(y[1])+"")&&ye(J,H),y[4].problem.length>=1?g?(g.p(y,A),A&16&&j(g,1)):(g=ve(y),g.c(),j(g,1),g.m(s,null)):g&&(xe(),U(g,1,1,()=>{g=null}),Ee())},i(y){q||(j(g),q=!0)},o(y){U(g),q=!1},d(y){y&&v(s),E&&E.d(),g&&g.d(),ee=!1,ke(le)}}}function ge(t){let s,n,e="Sci Note Estimate",r,a,d,m=t[8](t[1])+"",c,w,T,u="Octas",N,C;return{c(){s=_("span"),n=_("span"),n.textContent=e,r=D(),a=_("div"),d=_("span"),c=we(m),w=D(),T=_("span"),T.textContent=u,N=D(),C=_("div"),this.h()},l(i){s=p(i,"SPAN",{class:!0,style:!0});var b=P(s);n=p(b,"SPAN",{"data-svelte-h":!0}),V(n)!=="svelte-1oo504f"&&(n.textContent=e),r=S(b),a=p(b,"DIV",{});var x=P(a);d=p(x,"SPAN",{style:!0});var k=P(d);c=be(k,m),k.forEach(v),w=S(x),T=p(x,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),V(T)!=="svelte-8793rd"&&(T.textContent=u),x.forEach(v),b.forEach(v),N=S(i),C=p(i,"DIV",{style:!0}),P(C).forEach(v),this.h()},h(){f(d,"font-size","1em"),f(d,"white-space","preserve"),f(d,"word-wrap","anywhere"),f(d,"margin","4px"),h(T,"class","badge variant-filled-surface"),f(T,"font-size","1.1em"),h(s,"class","badge variant-soft"),h(s,"style","// display: grid; // grid-template-columns: repeat(auto-fit, minmax(6cm, 1fr)); // gap: 4px; // flex: 1 1 50%; display: flex; flex-wrap: wrap; justify-content: space-between; position: relative; font-size: 1.2em; white-space: break-spaces; padding: 0.25cm 0.5cm; "),f(C,"height","6px"),f(C,"width","6px")},m(i,b){F(i,s,b),l(s,n),l(s,r),l(s,a),l(a,d),l(d,c),l(a,w),l(a,T),F(i,N,b),F(i,C,b)},p(i,b){b&2&&m!==(m=i[8](i[1])+"")&&ye(c,m)},d(i){i&&(v(s),v(N),v(C))}}}function ve(t){let s,n;return s=new je({props:{text:t[4].problem}}),{c(){Ve(s.$$.fragment)},l(e){Le(s.$$.fragment,e)},m(e,r){Ie(s,e,r),n=!0},p(e,r){const a={};r&16&&(a.text=e[4].problem),s.$set(a)},i(e){n||(j(s.$$.fragment,e),n=!0)},o(e){U(s.$$.fragment,e),n=!1},d(e){Oe(s,e)}}}function Fe(t){let s,n,e=t[5]==="yes"&&he(t);return{c(){e&&e.c(),s=pe()},l(r){e&&e.l(r),s=pe()},m(r,a){e&&e.m(r,a),F(r,s,a),n=!0},p(r,[a]){r[5]==="yes"?e?(e.p(r,a),a&32&&j(e,1)):(e=he(r),e.c(),j(e,1),e.m(s.parentNode,s)):e&&(xe(),U(e,1,1,()=>{e=null}),Ee())},i(r){n||(j(e),n=!0)},o(r){U(e),n=!1},d(r){r&&v(s),e&&e.d(r)}}}function Ue(t,s,n){let e,r,a,d,{on_change:m=()=>{}}=s,{on_prepare:c=()=>{}}=s,{display_sci_note_estimate:w="no"}=s;const T=Object.freeze({APT:"Amount of APT",Octas:"Amount of Octas"});let u={sci_note_estimate_of_Octas:"",problem:""};const N=({Octas:o})=>{console.log("change_amount:",{Octas:o}),re(o),n(1,d=se({Digits:o})),n(4,u.problem="",u),m({effects:u,actual_amount_of_Octas:d,amount:e,currency:r})},C=()=>{},i=async()=>{n(4,u.problem="",u),n(1,d=""),n(6,a=T[r]);try{if(r==="APT"){const o=await Be({APT:e.toString()});N({Octas:o});return}else if(r==="Octas"){const o=e.toString();N({Octas:o});return}else n(4,u.problem=`Currency "${r}" was not accounted for.`,u)}catch(o){e.length!==0&&console.error(o),n(4,u.problem=o.message,u)}m({effects:u,actual_amount_of_Octas:d,amount:e,currency:r})};let b="no";Te(async()=>{n(5,b="yes"),await c()});const x=({Octas:o})=>{if(r==="APT"){const z=Me({Octas:o});n(2,e=z)}else n(2,e=o);N({Octas:o})};Ce(()=>{});const k=()=>{try{let o=parseFloat(d).toExponential();return o==="NaN"?"":o}catch(o){console.error(o)}return""};function G(){e=this.value,n(2,e)}function M(){r=Ne(this),n(3,r)}return t.$$set=o=>{"on_change"in o&&n(9,m=o.on_change),"on_prepare"in o&&n(10,c=o.on_prepare),"display_sci_note_estimate"in o&&n(0,w=o.display_sci_note_estimate)},t.$$.update=()=>{t.$$.dirty&4&&(console.log("amount changed"),i()),t.$$.dirty&8&&(console.log("currency changed"),i()),t.$$.dirty&2&&k()},n(2,e=""),n(3,r="APT"),n(6,a=T.Octas),n(1,d=""),[w,d,e,r,u,b,a,C,k,m,c,x,G,M]}class Xe extends Se{constructor(s){super(),De(this,s,Ue,Fe,Pe,{on_change:9,on_prepare:10,display_sci_note_estimate:0,modify:11})}get modify(){return this.$$.ctx[11]}}export{Xe as T};
//# sourceMappingURL=Dhy1aWXh.js.map
