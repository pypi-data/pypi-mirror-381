[build-system]
requires = ["setuptools>=61.0.0", "wheel", "build>=0.10.0"]
build-backend = "setuptools.build_meta"

[project]
name = "telomerehunter2"
version = "1.0.1"
description = "An advanced version for TelomereHunter in Python 3 with new features"
authors = [
  {name = "FP", email = "f.popp@dkfz.de"},
  {name = "LF", email = "l.feuerbach@dkfz.de"},
  {name = "CH"},
  {name = "LS"}
]
readme = "README.md"
license = {file = "LICENSE.txt"}
keywords = ["telomere content", "read", "NGS", "WGS", "tumor control"]
requires-python = ">=3.6"
dependencies = [
    "pysam",
    "pandas",
    "numpy",
    "PyPDF2",
    "plotly",
    "kaleido"
]
optional-dependencies = { sc = ["sinto"] }
classifiers = [
  "Development Status :: 3 - Alpha",
  "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.8",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Programming Language :: Python :: 3.14",
  "Topic :: Scientific/Engineering :: Bio-Informatics"
]

[project.urls]
homepage = "https://www.dkfz.de/en/applied-bioinformatics/telomerehunter/telomerehunter.html"
repository = "https://github.com/yourusername/telomerehunter2"
documentation = "https://github.com/yourusername/telomerehunter2#readme"

[project.scripts]
telomerehunter2 = "telomerehunter2.telomerehunter2_main:main"
telomerehunter2-sc = "telomerehunter2.telomerehunter2_sc:main"

[tool.setuptools]
package-dir = {"" = "src"}
packages = ["telomerehunter2"]
include-package-data = true

[tool.setuptools.package-data]
telomerehunter2 = ["README.md", "cytoband_files/*"]

[tool.unittest]
testpaths = ["tests"]

[tool.tox]
envlist = ["py38", "py39", "py310", "py311", "py312", "py313", "lint", "black", "isort"]

[tool.tox.testenv]
description = "Run unittests for telomerehunter2"
deps = [
    "pysam",
    "pandas",
    "numpy",
    "PyPDF2",
    "plotly",
    "kaleido",
]

[tool.tox.env_run_base]
commands = [["python", "-m", "unittest", "discover", "-s", "tests", "-v"]]

[testenv.lint]
description = "Run style checks using flake8"
deps = ["flake8"]
commands = ["flake8", "src"]

[testenv.black]
description = "Format code using black"
deps = ["black"]
commands = ["black", "src", "--check"]

[testenv.isort]
description = "Sort imports using isort"
deps = ["isort"]
commands = ["isort", "src", "--check-only"]
