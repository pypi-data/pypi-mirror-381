# mem8 Template Manifest
# Version 1 format for external template sources
#
# This manifest describes the templates available in this source.
# It enables mem8 to discover, validate, and install templates from
# external locations (GitHub repos, local paths, etc.)

version: 1

# Relative path to templates directory (from this manifest file)
source: "."

# Metadata about this template source
metadata:
  name: "mem8 Official Templates"
  version: "2.10.0"
  description: "Official mem8 templates for Claude Code integration and shared thoughts"
  author: "killerapp"
  license: "Apache-2.0"
  repository: "https://github.com/killerapp/mem8"

# Template definitions
templates:
  # Full setup: Claude Code + Shared Thoughts
  full:
    path: "."  # Uses both templates below
    type: "composite"
    description: "Complete setup with Claude Code integration and shared thoughts repository"
    variables:
      shared_enabled: false
      username: "{{ env.USERNAME | default('user') }}"

  # Claude Code integration only
  claude-config:
    path: "claude-dot-md-template"
    type: "cookiecutter"
    description: "Claude Code workspace integration (.claude/ directory with agents and commands)"
    variables:
      project_slug: ".claude"
      workflow_provider: "github"
      include_workflow_automation: "standard"
      github_org: "your-org"
      github_repo: "your-repo"
      username: "{{ env.USERNAME | default('user') }}"
      shared_enabled: false

  # Shared thoughts repository only
  thoughts-repo:
    path: "shared-thoughts-template"
    type: "cookiecutter"
    description: "Shared knowledge repository structure (thoughts/ directory)"
    variables:
      project_slug: "thoughts"
      username: "{{ env.USERNAME | default('user') }}"
      github_org: "your-org"
      github_repo: "thoughts"
      include_sync_scripts: true

# Recommended CLI toolbelt for AI/automation workflows
# mem8 doctor will check for these tools and provide installation guidance
toolbelt:
  # Core tools (strongly recommended)
  required:
    - name: "ripgrep"
      command: "rg"
      description: "Fast recursive search (better than grep)"
      install:
        windows: "winget install BurntSushi.ripgrep.MSVC"
        macos: "brew install ripgrep"
        linux: "apt install ripgrep"

    - name: "fd"
      command: "fd"
      description: "Fast file finder (better than find)"
      install:
        windows: "winget install sharkdp.fd"
        macos: "brew install fd"
        linux: "apt install fd-find"

    - name: "jq"
      command: "jq"
      description: "JSON processor"
      install:
        windows: "winget install jqlang.jq"
        macos: "brew install jq"
        linux: "apt install jq"

    - name: "gh"
      command: "gh"
      description: "GitHub CLI"
      install:
        windows: "winget install GitHub.cli"
        macos: "brew install gh"
        linux: "apt install gh"

    - name: "git"
      command: "git"
      description: "Version control"
      install:
        windows: "winget install Git.Git"
        macos: "brew install git"
        linux: "apt install git"

  # Optional tools (nice to have)
  optional:
    - name: "bat"
      command: "bat"
      description: "Better cat with syntax highlighting"
      install:
        windows: "winget install sharkdp.bat"
        macos: "brew install bat"
        linux: "apt install bat"

    - name: "delta"
      command: "delta"
      description: "Better git diff viewer"
      install:
        windows: "winget install dandavison.delta"
        macos: "brew install git-delta"
        linux: "apt install git-delta"

    - name: "yq"
      command: "yq"
      description: "YAML/XML processor"
      install:
        windows: "winget install mikefarah.yq"
        macos: "brew install yq"
        linux: "apt install yq"

    - name: "fzf"
      command: "fzf"
      description: "Fuzzy finder"
      install:
        windows: "winget install junegunn.fzf"
        macos: "brew install fzf"
        linux: "apt install fzf"

    - name: "sd"
      command: "sd"
      description: "Simpler sed alternative"
      install:
        windows: "scoop install sd"
        macos: "brew install sd"
        linux: "cargo install sd"

    - name: "ast-grep"
      command: "ast-grep"
      description: "AST-based code search"
      install:
        windows: "cargo install ast-grep"
        macos: "brew install ast-grep"
        linux: "cargo install ast-grep"
