# Model-Method Compatibility Map
# 
# This file defines which computational methods are compatible with which physics models.
# Based on Mode.js model_method_map but adapted for standata's YAML-based build system.
#
# Structure:
# - Each entry maps model categories to compatible method filter rules
# - Supports both exact path matching and regex patterns
# - Undefined categories act as wildcards for broader compatibility

# Physics-Based > Quantum Mechanics > DFT > Kohn-Sham DFT > LDA
pb.qm.dft.ksdft.lda:
  - path: "/qm/wf/none/pw/none"
  - regex: "\/qm\/wf\/none\/psp\/.*"
  - regex: "\/qm\/wf\/none\/smearing\/.*" 
  - regex: "\/qm\/wf\/none\/tetrahedron\/.*"
  - path: "/opt/diff/ordern/cg/none"
  - path: "/linalg/diag/none/davidson/none"

# Physics-Based > Quantum Mechanics > DFT > Kohn-Sham DFT > GGA  
pb.qm.dft.ksdft.gga:
  - path: "/qm/wf/none/pw/none"
  - regex: "\/qm\/wf\/none\/psp\/.*"
  - regex: "\/qm\/wf\/none\/smearing\/.*"
  - regex: "\/qm\/wf\/none\/tetrahedron\/.*" 
  - path: "/opt/diff/ordern/cg/none"
  - path: "/linalg/diag/none/davidson/none"

# Physics-Based > Quantum Mechanics > DFT > Kohn-Sham DFT > Hybrid
pb.qm.dft.ksdft.hybrid:
  - path: "/qm/wf/none/pw/none"
  - regex: "\/qm\/wf\/none\/psp\/.*"
  - regex: "\/qm\/wf\/none\/smearing\/.*"
  - regex: "\/qm\/wf\/none\/tetrahedron\/.*"
  - path: "/opt/diff/ordern/cg/none" 
  - path: "/linalg/diag/none/davidson/none"
  - regex: "\/qm\/wf\/none\/ao\/pople.*"

# Physics-Based > Quantum Mechanics > Ab Initio > GW
pb.qm.abin.gw:
  - path: "/qm/wf/none/pw/none"
  - regex: "\/qm\/wf\/none\/psp\/.*"
  - regex: "\/qm\/wf\/none\/smearing\/.*"
  - regex: "\/qm\/wf\/none\/tetrahedron\/.*"
  - path: "/opt/diff/ordern/cg/none"
  - path: "/linalg/diag/none/davidson/none"

# Statistical > Deterministic > Machine Learning > Regression
st.det.ml.re:
  - path: "/none/none/none/linear/least_squares"
  - path: "/none/none/none/linear/ridge" 
  - path: "/none/none/none/kernel_ridge/least_squares"

# Wildcard entries for broader compatibility
# Any DFT model (type and subtype undefined = wildcards)
pb.qm.dft:
  - path: "/qm/wf/none/pw/none"
  - regex: "\/qm\/wf\/none\/psp\/.*"

# Any ML model  
st.det.ml:
  - regex: "\/.*\/.*\/.*\/linear\/.*"
  - regex: "\/.*\/.*\/.*\/kernel.*\/.*"
